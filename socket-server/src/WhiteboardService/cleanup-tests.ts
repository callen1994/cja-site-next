import { isEqual } from "lodash";
import { LineFig } from "../../../components/VirtualWhiteboard/data-types";
import { BIG_Log } from "../utils";
import { linesToDataURL, optomizeLines } from "./cleanup-room";

export const doTests = () => {
  test(case1, expected1, 1);
  test(case2, expected2, 2);
  test(case3, expected3, 3);
  test(case4, expected4, 4);
};

const test = (testCase: LineFig[], expected: LineFig[], num: number) => {
  const result = optomizeLines(testCase);
  if (isEqual(result, expected)) return console.log(`Case ${num} worked!`);
  console.log(`Case ${num} didn't Work :/`);
  // optomizeLines(testCase, true);
  BIG_Log("Got Result:");
  console.log(result);
  BIG_Log("Expected:");
  console.log(expected);
};

// Test cases for the cleanup function which should remove unnecessary lines.
export const case1: LineFig[] = [
  {
    stroke: "Black",
    strokeWidth: 8,
    tension: 0.5,
    globalCompositeOperation: "source-over",
    points: [185.0500030517578, 155.8000030517578],
  },
  {
    stroke: "Black",
    strokeWidth: 8,
    tension: 0.5,
    globalCompositeOperation: "source-over",
    points: [
      185.0500030517578, 155.8000030517578, 185.0500030517578,
      155.8000030517578, 185.0500030517578, 155.8000030517578,
      191.0500030517578, 152.8000030517578, 191.0500030517578,
      152.8000030517578, 212.0500030517578, 143.8000030517578,
      212.0500030517578, 143.8000030517578, 228.0500030517578,
      138.8000030517578, 228.0500030517578, 138.8000030517578,
      242.0500030517578, 136.8000030517578, 242.0500030517578,
      136.8000030517578, 251.0500030517578, 135.8000030517578,
      251.0500030517578, 135.8000030517578, 258.0500030517578,
      135.8000030517578, 258.0500030517578, 135.8000030517578,
      264.0500030517578, 135.8000030517578, 264.0500030517578,
      135.8000030517578, 269.0500030517578, 136.8000030517578,
      269.0500030517578, 136.8000030517578, 272.0500030517578,
      139.8000030517578, 272.0500030517578, 139.8000030517578,
      276.0500030517578, 148.8000030517578, 276.0500030517578,
      148.8000030517578, 283.0500030517578, 177.8000030517578,
      283.0500030517578, 177.8000030517578, 290.0500030517578,
      211.8000030517578, 290.0500030517578, 211.8000030517578,
      295.0500030517578, 236.8000030517578, 295.0500030517578,
      236.8000030517578, 301.0500030517578, 262.8000030517578,
      301.0500030517578, 262.8000030517578, 308.0500030517578,
      281.8000030517578, 308.0500030517578, 281.8000030517578,
      316.0500030517578, 294.8000030517578, 316.0500030517578,
      294.8000030517578, 325.0500030517578, 302.8000030517578,
      325.0500030517578, 302.8000030517578, 337.0500030517578,
      308.8000030517578, 337.0500030517578, 308.8000030517578,
      355.0500030517578, 314.8000030517578, 355.0500030517578,
      314.8000030517578, 374.0500030517578, 317.8000030517578,
      374.0500030517578, 317.8000030517578, 393.0500030517578,
      318.8000030517578, 393.0500030517578, 318.8000030517578,
      415.0500030517578, 318.8000030517578, 415.0500030517578,
      318.8000030517578, 431.0500030517578, 317.8000030517578,
      431.0500030517578, 317.8000030517578, 463.0500030517578,
      307.8000030517578, 463.0500030517578, 307.8000030517578,
      478.0500030517578, 297.8000030517578, 478.0500030517578,
      297.8000030517578, 488.0500030517578, 283.8000030517578,
      488.0500030517578, 283.8000030517578, 489.0500030517578,
      279.8000030517578, 489.0500030517578, 279.8000030517578,
      489.0500030517578, 279.8000030517578, 489.0500030517578,
      279.8000030517578,
    ],
  },
  {
    stroke: "#000",
    strokeWidth: 40,
    tension: 0.5,
    globalCompositeOperation: "destination-out",
    points: [169.0500030517578, 167.8000030517578],
  },
  {
    stroke: "#000",
    strokeWidth: 40,
    tension: 0.5,
    globalCompositeOperation: "destination-out",
    points: [
      169.0500030517578, 167.8000030517578, 170.0500030517578,
      167.8000030517578, 170.0500030517578, 167.8000030517578,
      179.0500030517578, 161.8000030517578, 179.0500030517578,
      161.8000030517578, 182.0500030517578, 159.8000030517578,
      182.0500030517578, 159.8000030517578, 190.0500030517578,
      155.8000030517578, 190.0500030517578, 155.8000030517578,
      197.0500030517578, 151.8000030517578, 197.0500030517578,
      151.8000030517578, 202.0500030517578, 148.8000030517578,
      202.0500030517578, 148.8000030517578, 206.0500030517578,
      147.8000030517578, 206.0500030517578, 147.8000030517578,
      209.0500030517578, 146.8000030517578, 209.0500030517578,
      146.8000030517578, 211.0500030517578, 145.8000030517578,
      211.0500030517578, 145.8000030517578, 213.0500030517578,
      145.8000030517578, 213.0500030517578, 145.8000030517578,
      217.0500030517578, 144.8000030517578, 217.0500030517578,
      144.8000030517578, 219.0500030517578, 144.8000030517578,
      219.0500030517578, 144.8000030517578, 221.0500030517578,
      143.8000030517578, 221.0500030517578, 143.8000030517578,
      223.0500030517578, 143.8000030517578, 223.0500030517578,
      143.8000030517578, 225.0500030517578, 143.8000030517578,
      225.0500030517578, 143.8000030517578, 227.0500030517578,
      142.8000030517578, 227.0500030517578, 142.8000030517578,
      230.0500030517578, 142.8000030517578, 230.0500030517578,
      142.8000030517578, 232.0500030517578, 142.8000030517578,
      232.0500030517578, 142.8000030517578, 234.0500030517578,
      141.8000030517578, 234.0500030517578, 141.8000030517578,
      235.0500030517578, 141.8000030517578, 235.0500030517578,
      141.8000030517578, 236.0500030517578, 141.8000030517578,
      236.0500030517578, 141.8000030517578, 238.0500030517578,
      141.8000030517578, 238.0500030517578, 141.8000030517578,
      239.0500030517578, 141.8000030517578, 239.0500030517578,
      141.8000030517578, 241.0500030517578, 141.8000030517578,
      241.0500030517578, 141.8000030517578, 245.0500030517578,
      141.8000030517578, 245.0500030517578, 141.8000030517578,
      248.0500030517578, 141.8000030517578, 248.0500030517578,
      141.8000030517578, 251.0500030517578, 141.8000030517578,
      251.0500030517578, 141.8000030517578, 252.0500030517578,
      141.8000030517578, 252.0500030517578, 141.8000030517578,
      254.0500030517578, 141.8000030517578, 254.0500030517578,
      141.8000030517578, 255.0500030517578, 141.8000030517578,
      255.0500030517578, 141.8000030517578, 256.0500030517578,
      142.8000030517578, 256.0500030517578, 142.8000030517578,
      257.0500030517578, 142.8000030517578, 257.0500030517578,
      142.8000030517578, 258.0500030517578, 142.8000030517578,
      258.0500030517578, 142.8000030517578, 258.0500030517578,
      143.8000030517578, 258.0500030517578, 143.8000030517578,
      259.0500030517578, 143.8000030517578, 259.0500030517578,
      143.8000030517578, 261.0500030517578, 145.8000030517578,
      261.0500030517578, 145.8000030517578, 264.0500030517578,
      146.8000030517578, 264.0500030517578, 146.8000030517578,
      266.0500030517578, 149.8000030517578, 266.0500030517578,
      149.8000030517578, 269.0500030517578, 152.8000030517578,
      269.0500030517578, 152.8000030517578, 272.0500030517578,
      154.8000030517578, 272.0500030517578, 154.8000030517578,
      273.0500030517578, 156.8000030517578, 273.0500030517578,
      156.8000030517578, 274.0500030517578, 157.8000030517578,
      274.0500030517578, 157.8000030517578, 275.0500030517578,
      158.8000030517578, 275.0500030517578, 158.8000030517578,
      275.0500030517578, 159.8000030517578, 275.0500030517578,
      159.8000030517578, 276.0500030517578, 159.8000030517578,
      276.0500030517578, 159.8000030517578, 276.0500030517578,
      160.8000030517578, 276.0500030517578, 160.8000030517578,
      276.0500030517578, 160.8000030517578, 276.0500030517578,
      160.8000030517578, 276.0500030517578, 161.8000030517578,
      276.0500030517578, 161.8000030517578, 277.0500030517578,
      163.8000030517578, 277.0500030517578, 163.8000030517578,
      277.0500030517578, 164.8000030517578, 277.0500030517578,
      164.8000030517578, 277.0500030517578, 166.8000030517578,
      277.0500030517578, 166.8000030517578, 277.0500030517578,
      167.8000030517578, 277.0500030517578, 167.8000030517578,
      278.0500030517578, 169.8000030517578, 278.0500030517578,
      169.8000030517578, 278.0500030517578, 172.8000030517578,
      278.0500030517578, 172.8000030517578, 278.0500030517578,
      176.8000030517578, 278.0500030517578, 176.8000030517578,
      279.0500030517578, 180.8000030517578, 279.0500030517578,
      180.8000030517578, 279.0500030517578, 184.8000030517578,
      279.0500030517578, 184.8000030517578, 280.0500030517578,
      188.8000030517578, 280.0500030517578, 188.8000030517578,
      280.0500030517578, 191.8000030517578, 280.0500030517578,
      191.8000030517578, 281.0500030517578, 194.8000030517578,
      281.0500030517578, 194.8000030517578, 281.0500030517578,
      197.8000030517578, 281.0500030517578, 197.8000030517578,
      282.0500030517578, 201.8000030517578, 282.0500030517578,
      201.8000030517578, 283.0500030517578, 204.8000030517578,
      283.0500030517578, 204.8000030517578, 284.0500030517578,
      206.8000030517578, 284.0500030517578, 206.8000030517578,
      284.0500030517578, 208.8000030517578, 284.0500030517578,
      208.8000030517578, 285.0500030517578, 211.8000030517578,
      285.0500030517578, 211.8000030517578, 287.0500030517578,
      214.8000030517578, 287.0500030517578, 214.8000030517578,
      288.0500030517578, 217.8000030517578, 288.0500030517578,
      217.8000030517578, 290.0500030517578, 220.8000030517578,
      290.0500030517578, 220.8000030517578, 291.0500030517578,
      223.8000030517578, 291.0500030517578, 223.8000030517578,
      293.0500030517578, 226.8000030517578, 293.0500030517578,
      226.8000030517578, 294.0500030517578, 229.8000030517578,
      294.0500030517578, 229.8000030517578, 296.0500030517578,
      233.8000030517578, 296.0500030517578, 233.8000030517578,
      299.0500030517578, 239.8000030517578, 299.0500030517578,
      239.8000030517578, 301.0500030517578, 242.8000030517578,
      301.0500030517578, 242.8000030517578, 303.0500030517578,
      245.8000030517578, 303.0500030517578, 245.8000030517578,
      304.0500030517578, 247.8000030517578, 304.0500030517578,
      247.8000030517578, 304.0500030517578, 247.8000030517578,
      304.0500030517578, 247.8000030517578, 303.0500030517578,
      247.8000030517578, 303.0500030517578, 247.8000030517578,
      303.0500030517578, 247.8000030517578, 303.0500030517578,
      247.8000030517578, 303.0500030517578, 247.8000030517578,
      303.0500030517578, 247.8000030517578, 302.0500030517578,
      247.8000030517578, 302.0500030517578, 247.8000030517578,
      302.0500030517578, 247.8000030517578, 302.0500030517578,
      247.8000030517578, 302.0500030517578, 247.8000030517578,
      302.0500030517578, 247.8000030517578, 302.0500030517578,
      248.8000030517578, 302.0500030517578, 248.8000030517578,
      302.0500030517578, 249.8000030517578, 302.0500030517578,
      249.8000030517578, 304.0500030517578, 254.8000030517578,
      304.0500030517578, 254.8000030517578, 306.0500030517578,
      258.8000030517578, 306.0500030517578, 258.8000030517578,
      309.0500030517578, 261.8000030517578, 309.0500030517578,
      261.8000030517578, 310.0500030517578, 264.8000030517578,
      310.0500030517578, 264.8000030517578, 312.0500030517578,
      266.8000030517578, 312.0500030517578, 266.8000030517578,
      313.0500030517578, 268.8000030517578, 313.0500030517578,
      268.8000030517578, 314.0500030517578, 271.8000030517578,
      314.0500030517578, 271.8000030517578, 316.0500030517578,
      274.8000030517578, 316.0500030517578, 274.8000030517578,
      317.0500030517578, 277.8000030517578, 317.0500030517578,
      277.8000030517578, 319.0500030517578, 280.8000030517578,
      319.0500030517578, 280.8000030517578, 320.0500030517578,
      283.8000030517578, 320.0500030517578, 283.8000030517578,
      320.0500030517578, 285.8000030517578, 320.0500030517578,
      285.8000030517578, 321.0500030517578, 286.8000030517578,
      321.0500030517578, 286.8000030517578, 322.0500030517578,
      287.8000030517578, 322.0500030517578, 287.8000030517578,
      322.0500030517578, 289.8000030517578, 322.0500030517578,
      289.8000030517578, 323.0500030517578, 289.8000030517578,
      323.0500030517578, 289.8000030517578, 323.0500030517578,
      291.8000030517578, 323.0500030517578, 291.8000030517578,
      324.0500030517578, 291.8000030517578, 324.0500030517578,
      291.8000030517578, 324.0500030517578, 293.8000030517578,
      324.0500030517578, 293.8000030517578, 325.0500030517578,
      293.8000030517578, 325.0500030517578, 293.8000030517578,
      325.0500030517578, 294.8000030517578, 325.0500030517578,
      294.8000030517578, 326.0500030517578, 296.8000030517578,
      326.0500030517578, 296.8000030517578, 327.0500030517578,
      298.8000030517578, 327.0500030517578, 298.8000030517578,
      329.0500030517578, 300.8000030517578, 329.0500030517578,
      300.8000030517578, 331.0500030517578, 302.8000030517578,
      331.0500030517578, 302.8000030517578, 332.0500030517578,
      304.8000030517578, 332.0500030517578, 304.8000030517578,
      334.0500030517578, 306.8000030517578, 334.0500030517578,
      306.8000030517578, 335.0500030517578, 307.8000030517578,
      335.0500030517578, 307.8000030517578, 336.0500030517578,
      308.8000030517578, 336.0500030517578, 308.8000030517578,
      336.0500030517578, 309.8000030517578, 336.0500030517578,
      309.8000030517578, 337.0500030517578, 309.8000030517578,
      337.0500030517578, 309.8000030517578, 338.0500030517578,
      310.8000030517578, 338.0500030517578, 310.8000030517578,
      339.0500030517578, 311.8000030517578, 339.0500030517578,
      311.8000030517578, 341.0500030517578, 311.8000030517578,
      341.0500030517578, 311.8000030517578, 343.0500030517578,
      312.8000030517578, 343.0500030517578, 312.8000030517578,
      346.0500030517578, 313.8000030517578, 346.0500030517578,
      313.8000030517578, 350.0500030517578, 314.8000030517578,
      350.0500030517578, 314.8000030517578, 352.0500030517578,
      315.8000030517578, 352.0500030517578, 315.8000030517578,
      354.0500030517578, 315.8000030517578, 354.0500030517578,
      315.8000030517578, 355.0500030517578, 316.8000030517578,
      355.0500030517578, 316.8000030517578, 356.0500030517578,
      316.8000030517578, 356.0500030517578, 316.8000030517578,
      357.0500030517578, 316.8000030517578, 357.0500030517578,
      316.8000030517578, 358.0500030517578, 316.8000030517578,
      358.0500030517578, 316.8000030517578, 359.0500030517578,
      316.8000030517578, 359.0500030517578, 316.8000030517578,
      360.0500030517578, 317.8000030517578, 360.0500030517578,
      317.8000030517578, 362.0500030517578, 317.8000030517578,
      362.0500030517578, 317.8000030517578, 363.0500030517578,
      317.8000030517578, 363.0500030517578, 317.8000030517578,
      365.0500030517578, 317.8000030517578, 365.0500030517578,
      317.8000030517578, 366.0500030517578, 318.8000030517578,
      366.0500030517578, 318.8000030517578, 368.0500030517578,
      318.8000030517578, 368.0500030517578, 318.8000030517578,
      371.0500030517578, 318.8000030517578, 371.0500030517578,
      318.8000030517578, 374.0500030517578, 318.8000030517578,
      374.0500030517578, 318.8000030517578, 376.0500030517578,
      318.8000030517578, 376.0500030517578, 318.8000030517578,
      379.0500030517578, 318.8000030517578, 379.0500030517578,
      318.8000030517578, 382.0500030517578, 318.8000030517578,
      382.0500030517578, 318.8000030517578, 385.0500030517578,
      318.8000030517578, 385.0500030517578, 318.8000030517578,
      387.0500030517578, 318.8000030517578, 387.0500030517578,
      318.8000030517578, 388.0500030517578, 318.8000030517578,
      388.0500030517578, 318.8000030517578, 394.0500030517578,
      318.8000030517578, 394.0500030517578, 318.8000030517578,
      399.0500030517578, 318.8000030517578, 399.0500030517578,
      318.8000030517578, 405.0500030517578, 319.8000030517578,
      405.0500030517578, 319.8000030517578, 409.0500030517578,
      319.8000030517578, 409.0500030517578, 319.8000030517578,
      412.0500030517578, 319.8000030517578, 412.0500030517578,
      319.8000030517578, 414.0500030517578, 319.8000030517578,
      414.0500030517578, 319.8000030517578, 416.0500030517578,
      319.8000030517578, 416.0500030517578, 319.8000030517578,
      418.0500030517578, 319.8000030517578, 418.0500030517578,
      319.8000030517578, 420.0500030517578, 319.8000030517578,
      420.0500030517578, 319.8000030517578, 423.0500030517578,
      319.8000030517578, 423.0500030517578, 319.8000030517578,
      426.0500030517578, 319.8000030517578, 426.0500030517578,
      319.8000030517578, 429.0500030517578, 319.8000030517578,
      429.0500030517578, 319.8000030517578, 432.0500030517578,
      319.8000030517578, 432.0500030517578, 319.8000030517578,
      435.0500030517578, 319.8000030517578, 435.0500030517578,
      319.8000030517578, 436.0500030517578, 319.8000030517578,
      436.0500030517578, 319.8000030517578, 438.0500030517578,
      319.8000030517578, 438.0500030517578, 319.8000030517578,
      439.0500030517578, 319.8000030517578, 439.0500030517578,
      319.8000030517578, 441.0500030517578, 319.8000030517578,
      441.0500030517578, 319.8000030517578, 442.0500030517578,
      319.8000030517578, 442.0500030517578, 319.8000030517578,
      444.0500030517578, 319.8000030517578, 444.0500030517578,
      319.8000030517578, 445.0500030517578, 319.8000030517578,
      445.0500030517578, 319.8000030517578, 446.0500030517578,
      319.8000030517578, 446.0500030517578, 319.8000030517578,
      447.0500030517578, 319.8000030517578, 447.0500030517578,
      319.8000030517578, 448.0500030517578, 319.8000030517578,
      448.0500030517578, 319.8000030517578, 450.0500030517578,
      318.8000030517578, 450.0500030517578, 318.8000030517578,
      451.0500030517578, 318.8000030517578, 451.0500030517578,
      318.8000030517578, 453.0500030517578, 317.8000030517578,
      453.0500030517578, 317.8000030517578, 456.0500030517578,
      316.8000030517578, 456.0500030517578, 316.8000030517578,
      458.0500030517578, 315.8000030517578, 458.0500030517578,
      315.8000030517578, 460.0500030517578, 314.8000030517578,
      460.0500030517578, 314.8000030517578, 461.0500030517578,
      313.8000030517578, 461.0500030517578, 313.8000030517578,
      463.0500030517578, 312.8000030517578, 463.0500030517578,
      312.8000030517578, 464.0500030517578, 312.8000030517578,
      464.0500030517578, 312.8000030517578, 465.0500030517578,
      311.8000030517578, 465.0500030517578, 311.8000030517578,
      466.0500030517578, 310.8000030517578, 466.0500030517578,
      310.8000030517578, 468.0500030517578, 310.8000030517578,
      468.0500030517578, 310.8000030517578, 470.0500030517578,
      309.8000030517578, 470.0500030517578, 309.8000030517578,
      473.0500030517578, 307.8000030517578, 473.0500030517578,
      307.8000030517578, 476.0500030517578, 305.8000030517578,
      476.0500030517578, 305.8000030517578, 479.0500030517578,
      303.8000030517578, 479.0500030517578, 303.8000030517578,
      481.0500030517578, 302.8000030517578, 481.0500030517578,
      302.8000030517578, 484.0500030517578, 301.8000030517578,
      484.0500030517578, 301.8000030517578, 485.0500030517578,
      300.8000030517578, 485.0500030517578, 300.8000030517578,
      487.0500030517578, 298.8000030517578, 487.0500030517578,
      298.8000030517578, 488.0500030517578, 297.8000030517578,
      488.0500030517578, 297.8000030517578, 490.0500030517578,
      295.8000030517578, 490.0500030517578, 295.8000030517578,
      493.0500030517578, 293.8000030517578, 493.0500030517578,
      293.8000030517578, 496.0500030517578, 291.8000030517578,
      496.0500030517578, 291.8000030517578, 501.0500030517578,
      286.8000030517578, 501.0500030517578, 286.8000030517578,
      504.0500030517578, 284.8000030517578, 504.0500030517578,
      284.8000030517578, 507.0500030517578, 281.8000030517578,
      507.0500030517578, 281.8000030517578, 509.0500030517578,
      279.8000030517578, 509.0500030517578, 279.8000030517578,
      511.0500030517578, 276.8000030517578, 511.0500030517578,
      276.8000030517578, 512.0500030517578, 274.8000030517578,
      512.0500030517578, 274.8000030517578, 514.0500030517578,
      272.8000030517578, 514.0500030517578, 272.8000030517578,
      515.0500030517578, 270.8000030517578, 515.0500030517578,
      270.8000030517578, 516.0500030517578, 268.8000030517578,
      516.0500030517578, 268.8000030517578, 517.0500030517578,
      266.8000030517578, 517.0500030517578, 266.8000030517578,
      518.0500030517578, 264.8000030517578, 518.0500030517578,
      264.8000030517578, 519.0500030517578, 263.8000030517578,
      519.0500030517578, 263.8000030517578, 520.0500030517578,
      261.8000030517578, 520.0500030517578, 261.8000030517578,
      522.0500030517578, 256.8000030517578, 522.0500030517578,
      256.8000030517578,
    ],
  },
];

const expected1: LineFig[] = [];

const case2: LineFig[] = [
  {
    stroke: "Black",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    points: [
      199.60589652344322, 118.93420752916165, 199.60589652344322,
      123.04661345856627, 199.60589652344322, 126.13091790561973,
      217.08362172341285, 154.91775941145207, 229.4208395116267,
      166.22687571731475, 256.1514780527567, 184.73270239963554,
      267.4605943586194, 187.817006846689, 277.74160918213096,
      188.84510832904016, 294.1912328997494, 188.84510832904016,
      309.61275513501676, 187.817006846689, 330.17478478203986,
      181.6483979525821, 355.8773218408187, 172.3954846114217,
      370.2707425937349, 168.28307868201708, 370.2707425937349,
      167.25497719966592, 370.2707425937349, 167.25497719966592,
    ],
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
  },
  {
    stroke: "Black",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    points: [
      325.0342773702841, 114.82180159975702, 325.0342773702841,
      114.82180159975702, 327.0904803349864, 114.82180159975702,
      341.48390108790255, 108.6531927056501, 376.4393514878418,
      94.25977195273394, 401.1137870642695, 88.091163058627, 421.6758167112926,
      82.95065564687124, 441.20974487596453, 80.89445268216893,
      443.26594784066685, 80.89445268216893, 453.5469626641784,
      80.89445268216893, 468.96848489944574, 86.0349600939247,
      483.3619056523619, 103.51268529389434, 489.5305145464688,
      114.82180159975702, 498.7834278876292, 136.41193272913128,
      501.86773233468267, 145.66484607029167, 508.0363412287896,
      182.67649943493325, 508.0363412287896, 192.95751425844477,
      509.06444271114077, 224.82866021133057, 509.06444271114077,
      230.9972691054375, 508.0363412287896, 241.27828392894904,
      504.9520367817361, 250.53119727010943, 503.923935299385,
      251.5592987524606, 500.83963085233154, 256.6998061642164,
      498.7834278876292, 259.78411061126985, 497.755326405278, 260.812212093621,
      496.7272249229269, 261.8403135759721, 496.7272249229269,
      261.8403135759721, 497.755326405278, 261.8403135759721,
      501.86773233468267, 262.8684150583233, 505.9801382640873,
      263.89651654067444, 517.28925456995, 264.92461802302563,
      534.7669797699197, 265.95271950537676, 542.9917916287288,
      265.95271950537676, 576.919140546317, 262.8684150583233, 590.284459816882,
      256.6998061642164, 595.4249672286378, 253.6155017171629,
      600.5654746403935, 250.53119727010943, 608.7902864992028,
      241.27828392894904, 608.7902864992028, 241.27828392894904,
    ],
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
  },
  {
    stroke: "Green",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    points: [
      175.95956242936666, 233.0534720701398, 175.95956242936666,
      233.0534720701398, 175.95956242936666, 240.2501824465979,
      179.0438668764201, 247.44689282305598, 182.1281713234736,
      253.6155017171629, 186.2405772528782, 259.78411061126985,
      187.26867873522934, 262.8684150583233, 195.4934905940386,
      272.1213283994837, 198.57779504109206, 275.2056328465371,
      205.77450541755013, 282.4023432229952, 213.99931727635936,
      289.5990535994533, 219.13982468811514, 293.7114595288579,
      232.50514395868015, 303.99247435236947, 243.81426026454287,
      310.16108324647644, 247.92666619394748, 312.2172862111787,
      252.0390721233521, 313.2453876935299, 255.12337657040555,
      314.273489175881, 260.26388398216136, 315.30159065823216,
      264.37628991156595, 315.30159065823216, 272.6011017703752,
      315.30159065823216, 281.8540151115356, 315.30159065823216,
      284.93831955858906, 316.32969214058335, 299.3317403115052,
      317.3577936229345, 305.5003492056121, 317.3577936229345,
      310.6408566173679, 318.38589510528567, 315.78136402912367,
      318.38589510528567, 319.8937699585283, 318.38589510528567,
      321.94997292323063, 318.38589510528567, 326.0623788526352,
      318.38589510528567, 329.1466832996887, 318.38589510528567,
      332.23098774674213, 318.38589510528567, 336.3433936761468,
      318.38589510528567, 341.48390108790255, 317.3577936229345,
      344.568205534956, 316.32969214058335, 352.79301739376524,
      315.30159065823216, 357.933524805521, 314.273489175881,
      362.04593073492566, 313.2453876935299, 366.15833666433025,
      312.2172862111787, 369.2426411113837, 311.18918472882757,
      370.2707425937349, 310.16108324647644, 370.2707425937349,
      310.16108324647644, 370.2707425937349, 310.16108324647644,
      370.2707425937349, 310.16108324647644, 370.2707425937349,
      310.16108324647644,
    ],
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
  },
  {
    stroke: "#000",
    strokeWidth: 40,
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
    globalCompositeOperation: "destination-out",
    points: [
      174.9314609470155, 226.8848631760329, 174.9314609470155,
      226.8848631760329, 174.9314609470155, 226.8848631760329,
      176.98766391171782, 228.9410661407352, 176.98766391171782,
      228.9410661407352, 182.1281713234736, 234.08157355249097,
      182.1281713234736, 234.08157355249097, 186.2405772528782,
      237.16587799954442, 186.2405772528782, 237.16587799954442,
      189.32488169993167, 239.22208096424674, 189.32488169993167,
      239.22208096424674, 192.40918614698512, 242.3063854113002,
      192.40918614698512, 242.3063854113002, 196.52159207638974,
      246.41879134070481, 196.52159207638974, 246.41879134070481,
      199.60589652344322, 249.5030957877583, 199.60589652344322,
      249.5030957877583, 202.69020097049668, 252.58740023481175,
      202.69020097049668, 252.58740023481175, 204.74640393519897,
      255.6717046818652, 204.74640393519897, 255.6717046818652,
      206.8026068999013, 258.75600912891866, 206.8026068999013,
      258.75600912891866, 208.85880986460361, 260.812212093621,
      208.85880986460361, 260.812212093621, 210.9150128293059,
      263.89651654067444, 210.9150128293059, 263.89651654067444,
      212.97121579400823, 265.95271950537676, 212.97121579400823,
      265.95271950537676, 215.02741875871052, 269.0370239524302,
      215.02741875871052, 269.0370239524302, 217.08362172341285,
      271.09322691713254, 217.08362172341285, 271.09322691713254,
      218.11172320576398, 274.177531364186, 218.11172320576398,
      274.177531364186, 221.19602765281746, 277.26183581123945,
      221.19602765281746, 277.26183581123945, 222.22412913516862,
      279.3180387759418, 222.22412913516862, 279.3180387759418,
      226.33653506457324, 283.4304447053464, 226.33653506457324,
      283.4304447053464, 228.39273802927553, 284.45854618769755,
      228.39273802927553, 284.45854618769755, 229.4208395116267,
      286.5147491523999, 229.4208395116267, 286.5147491523999,
      231.47704247632902, 287.542850634751, 231.47704247632902,
      287.542850634751, 232.50514395868015, 288.57095211710214,
      232.50514395868015, 288.57095211710214, 233.5332454410313,
      289.5990535994533, 233.5332454410313, 289.5990535994533,
      234.56134692338247, 290.62715508180446, 234.56134692338247,
      290.62715508180446, 234.56134692338247, 290.62715508180446,
      234.56134692338247, 290.62715508180446, 235.58944840573363,
      291.65525656415565, 235.58944840573363, 291.65525656415565,
      235.58944840573363, 291.65525656415565, 235.58944840573363,
      291.65525656415565, 236.61754988808477, 291.65525656415565,
      236.61754988808477, 291.65525656415565, 236.61754988808477,
      292.6833580465068, 236.61754988808477, 292.6833580465068,
      236.61754988808477, 292.6833580465068, 236.61754988808477,
      292.6833580465068, 237.64565137043593, 292.6833580465068,
      237.64565137043593, 292.6833580465068, 237.64565137043593,
      293.7114595288579, 237.64565137043593, 293.7114595288579,
      237.64565137043593, 293.7114595288579, 237.64565137043593,
      293.7114595288579, 237.64565137043593, 294.7395610112091,
      237.64565137043593, 294.7395610112091, 237.64565137043593,
      294.7395610112091, 237.64565137043593, 294.7395610112091,
      237.64565137043593, 295.76766249356024, 237.64565137043593,
      295.76766249356024, 237.64565137043593, 295.76766249356024,
      237.64565137043593, 295.76766249356024, 237.64565137043593,
      295.76766249356024, 237.64565137043593, 295.76766249356024,
      237.64565137043593, 296.7957639759114, 237.64565137043593,
      296.7957639759114, 237.64565137043593, 296.7957639759114,
      237.64565137043593, 296.7957639759114, 237.64565137043593,
      296.7957639759114, 237.64565137043593, 296.7957639759114,
      237.64565137043593, 296.7957639759114, 237.64565137043593,
      296.7957639759114, 237.64565137043593, 296.7957639759114,
      237.64565137043593, 296.7957639759114, 237.64565137043593,
      297.82386545826256, 237.64565137043593, 297.82386545826256,
      237.64565137043593, 297.82386545826256, 237.64565137043593,
      297.82386545826256, 238.6737528527871, 297.82386545826256,
      238.6737528527871, 297.82386545826256, 238.6737528527871,
      297.82386545826256, 238.6737528527871, 297.82386545826256,
      238.6737528527871, 297.82386545826256, 238.6737528527871,
      297.82386545826256, 238.6737528527871, 298.8519669406137,
      238.6737528527871, 298.8519669406137, 239.70185433513825,
      298.8519669406137, 239.70185433513825, 298.8519669406137,
      239.70185433513825, 298.8519669406137, 239.70185433513825,
      298.8519669406137, 239.70185433513825, 298.8519669406137,
      239.70185433513825, 298.8519669406137, 239.70185433513825,
      298.8519669406137, 239.70185433513825, 298.8519669406137,
      239.70185433513825, 298.8519669406137, 239.70185433513825,
      298.8519669406137, 238.6737528527871, 298.8519669406137,
      238.6737528527871, 298.8519669406137, 237.64565137043593,
      298.8519669406137, 237.64565137043593, 298.8519669406137,
      236.61754988808477, 294.7395610112091, 236.61754988808477,
      294.7395610112091, 233.5332454410313, 293.7114595288579,
      233.5332454410313, 293.7114595288579, 231.47704247632902,
      293.7114595288579, 231.47704247632902, 293.7114595288579,
      228.39273802927553, 292.6833580465068, 228.39273802927553,
      292.6833580465068, 223.25223061751976, 292.6833580465068,
      223.25223061751976, 292.6833580465068, 218.11172320576398,
      289.5990535994533, 218.11172320576398, 289.5990535994533,
      215.02741875871052, 287.542850634751, 215.02741875871052,
      287.542850634751, 210.9150128293059, 285.4866476700487, 210.9150128293059,
      285.4866476700487, 207.83070838225245, 283.4304447053464,
      207.83070838225245, 283.4304447053464, 204.74640393519897,
      281.3742417406441, 204.74640393519897, 281.3742417406441,
      201.66209948814551, 279.3180387759418, 201.66209948814551,
      279.3180387759418, 199.60589652344322, 277.26183581123945,
      199.60589652344322, 277.26183581123945, 196.52159207638974,
      274.177531364186, 196.52159207638974, 274.177531364186,
      193.43728762933628, 273.14942988183486, 193.43728762933628,
      273.14942988183486, 192.40918614698512, 272.1213283994837,
      192.40918614698512, 272.1213283994837, 190.35298318228283,
      270.0651254347814, 190.35298318228283, 270.0651254347814,
      188.2967802175805, 269.0370239524302, 188.2967802175805,
      269.0370239524302, 186.2405772528782, 268.0089224700791,
      186.2405772528782, 268.0089224700791, 185.21247577052705,
      266.9808209877279, 185.21247577052705, 266.9808209877279,
      184.1843742881759, 266.9808209877279, 184.1843742881759,
      266.9808209877279, 184.1843742881759, 266.9808209877279,
      184.1843742881759, 266.9808209877279, 183.15627280582473,
      266.9808209877279, 183.15627280582473, 266.9808209877279,
      183.15627280582473, 265.95271950537676, 183.15627280582473,
      265.95271950537676, 183.15627280582473, 265.95271950537676,
      183.15627280582473, 265.95271950537676, 183.15627280582473,
      266.9808209877279, 183.15627280582473, 266.9808209877279,
      183.15627280582473, 266.9808209877279, 183.15627280582473,
      266.9808209877279, 183.15627280582473, 268.0089224700791,
      183.15627280582473, 268.0089224700791, 183.15627280582473,
      268.0089224700791, 183.15627280582473, 268.0089224700791,
      184.1843742881759, 269.0370239524302, 184.1843742881759,
      269.0370239524302, 185.21247577052705, 270.0651254347814,
      185.21247577052705, 270.0651254347814, 188.2967802175805,
      272.1213283994837, 188.2967802175805, 272.1213283994837,
      192.40918614698512, 274.177531364186, 192.40918614698512,
      274.177531364186, 200.63399800579435, 278.28993729359064,
      200.63399800579435, 278.28993729359064, 206.8026068999013,
      282.4023432229952, 206.8026068999013, 282.4023432229952,
      212.97121579400823, 287.542850634751, 212.97121579400823,
      287.542850634751, 217.08362172341285, 290.62715508180446,
      217.08362172341285, 290.62715508180446, 223.25223061751976,
      294.7395610112091, 223.25223061751976, 294.7395610112091,
      226.33653506457324, 296.7957639759114, 226.33653506457324,
      296.7957639759114, 229.4208395116267, 299.8800684229649,
      229.4208395116267, 299.8800684229649, 232.50514395868015,
      300.908169905316, 232.50514395868015, 300.908169905316,
      235.58944840573363, 301.93627138766715, 235.58944840573363,
      301.93627138766715, 237.64565137043593, 302.96437287001834,
      237.64565137043593, 302.96437287001834, 238.6737528527871,
      303.99247435236947, 238.6737528527871, 303.99247435236947,
      240.72995581748938, 306.0486773170718, 240.72995581748938,
      306.0486773170718, 243.81426026454287, 308.1048802817741,
      243.81426026454287, 308.1048802817741, 245.87046322924516,
      309.13298176412525, 245.87046322924516, 309.13298176412525,
      247.92666619394748, 310.16108324647644, 247.92666619394748,
      310.16108324647644, 248.95476767629864, 311.18918472882757,
      248.95476767629864, 311.18918472882757, 249.98286915864978,
      311.18918472882757, 249.98286915864978, 311.18918472882757,
      251.01097064100094, 312.2172862111787, 251.01097064100094,
      312.2172862111787, 251.01097064100094, 312.2172862111787,
      251.01097064100094, 312.2172862111787, 252.0390721233521,
      312.2172862111787, 252.0390721233521, 312.2172862111787,
      252.0390721233521, 313.2453876935299, 252.0390721233521,
      313.2453876935299, 253.06717360570326, 313.2453876935299,
      253.06717360570326, 313.2453876935299, 254.0952750880544,
      313.2453876935299, 254.0952750880544, 313.2453876935299,
      254.0952750880544, 313.2453876935299, 254.0952750880544,
      313.2453876935299, 255.12337657040555, 313.2453876935299,
      255.12337657040555, 313.2453876935299, 257.17957953510785,
      313.2453876935299, 257.17957953510785, 313.2453876935299,
      258.20768101745904, 313.2453876935299, 258.20768101745904,
      313.2453876935299, 260.26388398216136, 313.2453876935299,
      260.26388398216136, 313.2453876935299, 262.3200869468636,
      314.273489175881, 262.3200869468636, 314.273489175881, 263.3481884292148,
      314.273489175881, 263.3481884292148, 314.273489175881, 265.4043913939171,
      314.273489175881, 265.4043913939171, 314.273489175881, 266.43249287626827,
      314.273489175881, 266.43249287626827, 314.273489175881, 269.5167973233217,
      314.273489175881, 269.5167973233217, 314.273489175881, 279.7978121468333,
      314.273489175881, 279.7978121468333, 314.273489175881, 279.7978121468333,
      314.273489175881, 279.7978121468333, 314.273489175881, 279.7978121468333,
      314.273489175881, 279.7978121468333, 314.273489175881, 279.7978121468333,
      314.273489175881, 279.7978121468333, 314.273489175881, 278.7697106644821,
      314.273489175881, 278.7697106644821, 314.273489175881, 278.7697106644821,
      314.273489175881, 278.7697106644821, 314.273489175881, 278.7697106644821,
      314.273489175881, 278.7697106644821, 314.273489175881, 279.7978121468333,
      314.273489175881, 279.7978121468333, 314.273489175881, 282.88211659388674,
      314.273489175881, 282.88211659388674, 314.273489175881, 288.0226240056425,
      315.30159065823216, 288.0226240056425, 315.30159065823216,
      296.24743586445175, 316.32969214058335, 296.24743586445175,
      316.32969214058335, 301.3879432762075, 317.3577936229345,
      301.3879432762075, 317.3577936229345, 308.5846536526656,
      318.38589510528567, 308.5846536526656, 318.38589510528567,
      313.7251610644214, 320.44209806998794, 313.7251610644214,
      320.44209806998794, 316.80946551147485, 320.44209806998794,
      316.80946551147485, 320.44209806998794, 320.92187144087944,
      321.4701995523391, 320.92187144087944, 321.4701995523391,
      326.0623788526352, 322.49830103469026, 326.0623788526352,
      322.49830103469026, 330.17478478203986, 323.52640251704145,
      330.17478478203986, 323.52640251704145, 336.3433936761468,
      324.5545039993926, 336.3433936761468, 324.5545039993926,
      340.4557996055514, 325.5826054817437, 340.4557996055514,
      325.5826054817437, 343.5401040526049, 325.5826054817437,
      343.5401040526049, 325.5826054817437, 346.62440849965833,
      326.6107069640949, 346.62440849965833, 326.6107069640949,
      349.7087129467118, 327.63880844644603, 349.7087129467118,
      327.63880844644603, 352.79301739376524, 327.63880844644603,
      352.79301739376524, 327.63880844644603, 355.8773218408187,
      327.63880844644603, 355.8773218408187, 327.63880844644603,
      358.9616262878722, 327.63880844644603, 358.9616262878722,
      327.63880844644603, 361.0178292525745, 327.63880844644603,
      361.0178292525745, 327.63880844644603, 364.1021336996279,
      327.63880844644603, 364.1021336996279, 327.63880844644603,
      366.15833666433025, 327.63880844644603, 366.15833666433025,
      327.63880844644603, 368.2145396290326, 327.63880844644603,
      368.2145396290326, 327.63880844644603, 372.3269455584372,
      327.63880844644603, 372.3269455584372, 327.63880844644603,
      378.4955544525441, 324.5545039993926, 378.4955544525441,
      324.5545039993926, 384.66416334665104, 322.49830103469026,
      384.66416334665104, 322.49830103469026, 387.7484677937045,
      320.44209806998794, 387.7484677937045, 320.44209806998794,
      392.88897520546027, 318.38589510528567, 392.88897520546027,
      318.38589510528567, 395.9732796525137, 316.32969214058335,
      395.9732796525137, 316.32969214058335, 399.05758409956724,
      313.2453876935299, 399.05758409956724, 313.2453876935299,
      402.1418885466207, 312.2172862111787, 402.1418885466207,
      312.2172862111787, 403.1699900289718, 310.16108324647644,
      403.1699900289718, 310.16108324647644, 405.22619299367415,
      309.13298176412525, 405.22619299367415, 309.13298176412525,
      406.2542944760253, 307.0767787994229, 406.2542944760253,
      307.0767787994229, 408.3104974407276, 305.02057583472066,
      408.3104974407276, 305.02057583472066, 410.3667004054299,
      303.99247435236947, 410.3667004054299, 303.99247435236947,
      413.4510048524834, 300.908169905316, 413.4510048524834, 300.908169905316,
      415.5072078171857, 299.8800684229649, 415.5072078171857,
      299.8800684229649, 416.53530929953683, 298.8519669406137,
      416.53530929953683, 298.8519669406137, 416.53530929953683,
      298.8519669406137, 416.53530929953683, 298.8519669406137,
      417.56341078188797, 297.82386545826256, 417.56341078188797,
      297.82386545826256, 418.59151226423916, 297.82386545826256,
      418.59151226423916, 297.82386545826256, 418.59151226423916,
      297.82386545826256, 418.59151226423916, 297.82386545826256,
      418.59151226423916, 297.82386545826256, 418.59151226423916,
      297.82386545826256, 419.6196137465903, 297.82386545826256,
      419.6196137465903, 297.82386545826256, 419.6196137465903,
      297.82386545826256, 419.6196137465903, 297.82386545826256,
      419.6196137465903, 296.7957639759114, 419.6196137465903,
      296.7957639759114, 418.59151226423916, 296.7957639759114,
      418.59151226423916, 296.7957639759114, 416.53530929953683,
      296.7957639759114, 416.53530929953683, 296.7957639759114,
      413.4510048524834, 296.7957639759114, 413.4510048524834,
      296.7957639759114, 409.33859892307873, 296.7957639759114,
      409.33859892307873, 296.7957639759114, 403.1699900289718,
      297.82386545826256, 403.1699900289718, 297.82386545826256,
      398.02948261721605, 298.8519669406137, 398.02948261721605,
      298.8519669406137, 392.88897520546027, 299.8800684229649,
      392.88897520546027, 299.8800684229649, 386.72036631135336,
      300.908169905316, 386.72036631135336, 300.908169905316,
      379.52365593489526, 301.93627138766715, 379.52365593489526,
      301.93627138766715, 375.4112500054907, 302.96437287001834,
      375.4112500054907, 302.96437287001834, 369.2426411113837,
      303.99247435236947, 369.2426411113837, 303.99247435236947,
      366.15833666433025, 305.02057583472066, 366.15833666433025,
      305.02057583472066, 362.04593073492566, 305.02057583472066,
      362.04593073492566, 305.02057583472066, 361.0178292525745,
      306.0486773170718, 361.0178292525745, 306.0486773170718,
      361.0178292525745, 306.0486773170718, 361.0178292525745,
      306.0486773170718, 361.0178292525745, 306.0486773170718,
      361.0178292525745, 306.0486773170718, 359.98972777022334,
      306.0486773170718, 359.98972777022334, 306.0486773170718,
      359.98972777022334, 306.0486773170718, 359.98972777022334,
      306.0486773170718, 359.98972777022334, 307.0767787994229,
      359.98972777022334, 307.0767787994229, 359.98972777022334,
      307.0767787994229, 359.98972777022334, 307.0767787994229,
      359.98972777022334, 308.1048802817741, 359.98972777022334,
      308.1048802817741, 359.98972777022334, 308.1048802817741,
      359.98972777022334, 308.1048802817741, 358.9616262878722,
      309.13298176412525, 358.9616262878722, 309.13298176412525,
      358.9616262878722, 309.13298176412525, 358.9616262878722,
      309.13298176412525, 357.933524805521, 310.16108324647644,
      357.933524805521, 310.16108324647644, 357.933524805521,
      310.16108324647644, 357.933524805521, 310.16108324647644,
      357.933524805521, 309.13298176412525, 357.933524805521,
      309.13298176412525, 357.933524805521, 309.13298176412525,
      357.933524805521, 309.13298176412525, 357.933524805521,
      309.13298176412525, 357.933524805521, 309.13298176412525,
      358.9616262878722, 307.0767787994229, 358.9616262878722,
      307.0767787994229, 359.98972777022334, 305.02057583472066,
      359.98972777022334, 305.02057583472066, 362.04593073492566,
      300.908169905316, 362.04593073492566, 300.908169905316, 368.2145396290326,
      287.542850634751, 368.2145396290326, 287.542850634751, 371.298844076086,
      279.3180387759418, 371.298844076086, 279.3180387759418,
      384.66416334665104, 256.6998061642164, 384.66416334665104,
      256.6998061642164, 390.83277224075795, 246.41879134070481,
      390.83277224075795, 246.41879134070481, 395.9732796525137,
      237.16587799954442, 395.9732796525137, 237.16587799954442,
      403.1699900289718, 226.8848631760329, 403.1699900289718,
      226.8848631760329, 405.22619299367415, 223.8005587289794,
      405.22619299367415, 223.8005587289794, 407.28239595837647,
      222.77245724662828, 407.28239595837647, 222.77245724662828,
      408.3104974407276, 221.74435576427712, 408.3104974407276,
      221.74435576427712, 409.33859892307873, 221.74435576427712,
      409.33859892307873, 221.74435576427712,
    ],
  },
];

const expected2: LineFig[] = [
  {
    stroke: "Black",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    points: [
      199.60589652344322, 118.93420752916165, 199.60589652344322,
      123.04661345856627, 199.60589652344322, 126.13091790561973,
      217.08362172341285, 154.91775941145207, 229.4208395116267,
      166.22687571731475, 256.1514780527567, 184.73270239963554,
      267.4605943586194, 187.817006846689, 277.74160918213096,
      188.84510832904016, 294.1912328997494, 188.84510832904016,
      309.61275513501676, 187.817006846689, 330.17478478203986,
      181.6483979525821, 355.8773218408187, 172.3954846114217,
      370.2707425937349, 168.28307868201708, 370.2707425937349,
      167.25497719966592, 370.2707425937349, 167.25497719966592,
    ],
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
  },
  {
    stroke: "Black",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    points: [
      325.0342773702841, 114.82180159975702, 325.0342773702841,
      114.82180159975702, 327.0904803349864, 114.82180159975702,
      341.48390108790255, 108.6531927056501, 376.4393514878418,
      94.25977195273394, 401.1137870642695, 88.091163058627, 421.6758167112926,
      82.95065564687124, 441.20974487596453, 80.89445268216893,
      443.26594784066685, 80.89445268216893, 453.5469626641784,
      80.89445268216893, 468.96848489944574, 86.0349600939247,
      483.3619056523619, 103.51268529389434, 489.5305145464688,
      114.82180159975702, 498.7834278876292, 136.41193272913128,
      501.86773233468267, 145.66484607029167, 508.0363412287896,
      182.67649943493325, 508.0363412287896, 192.95751425844477,
      509.06444271114077, 224.82866021133057, 509.06444271114077,
      230.9972691054375, 508.0363412287896, 241.27828392894904,
      504.9520367817361, 250.53119727010943, 503.923935299385,
      251.5592987524606, 500.83963085233154, 256.6998061642164,
      498.7834278876292, 259.78411061126985, 497.755326405278, 260.812212093621,
      496.7272249229269, 261.8403135759721, 496.7272249229269,
      261.8403135759721, 497.755326405278, 261.8403135759721,
      501.86773233468267, 262.8684150583233, 505.9801382640873,
      263.89651654067444, 517.28925456995, 264.92461802302563,
      534.7669797699197, 265.95271950537676, 542.9917916287288,
      265.95271950537676, 576.919140546317, 262.8684150583233, 590.284459816882,
      256.6998061642164, 595.4249672286378, 253.6155017171629,
      600.5654746403935, 250.53119727010943, 608.7902864992028,
      241.27828392894904, 608.7902864992028, 241.27828392894904,
    ],
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
  },
];

const case3: LineFig[] = [
  {
    stroke: "Black",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    points: [
      199.60589652344322, 118.93420752916165, 199.60589652344322,
      123.04661345856627, 199.60589652344322, 126.13091790561973,
      217.08362172341285, 154.91775941145207, 229.4208395116267,
      166.22687571731475, 256.1514780527567, 184.73270239963554,
      267.4605943586194, 187.817006846689, 277.74160918213096,
      188.84510832904016, 294.1912328997494, 188.84510832904016,
      309.61275513501676, 187.817006846689, 330.17478478203986,
      181.6483979525821, 355.8773218408187, 172.3954846114217,
      370.2707425937349, 168.28307868201708, 370.2707425937349,
      167.25497719966592, 370.2707425937349, 167.25497719966592,
    ],
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
  },
  {
    stroke: "Black",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    points: [
      325.0342773702841, 114.82180159975702, 325.0342773702841,
      114.82180159975702, 327.0904803349864, 114.82180159975702,
      341.48390108790255, 108.6531927056501, 376.4393514878418,
      94.25977195273394, 401.1137870642695, 88.091163058627, 421.6758167112926,
      82.95065564687124, 441.20974487596453, 80.89445268216893,
      443.26594784066685, 80.89445268216893, 453.5469626641784,
      80.89445268216893, 468.96848489944574, 86.0349600939247,
      483.3619056523619, 103.51268529389434, 489.5305145464688,
      114.82180159975702, 498.7834278876292, 136.41193272913128,
      501.86773233468267, 145.66484607029167, 508.0363412287896,
      182.67649943493325, 508.0363412287896, 192.95751425844477,
      509.06444271114077, 224.82866021133057, 509.06444271114077,
      230.9972691054375, 508.0363412287896, 241.27828392894904,
      504.9520367817361, 250.53119727010943, 503.923935299385,
      251.5592987524606, 500.83963085233154, 256.6998061642164,
      498.7834278876292, 259.78411061126985, 497.755326405278, 260.812212093621,
      496.7272249229269, 261.8403135759721, 496.7272249229269,
      261.8403135759721, 497.755326405278, 261.8403135759721,
      501.86773233468267, 262.8684150583233, 505.9801382640873,
      263.89651654067444, 517.28925456995, 264.92461802302563,
      534.7669797699197, 265.95271950537676, 542.9917916287288,
      265.95271950537676, 576.919140546317, 262.8684150583233, 590.284459816882,
      256.6998061642164, 595.4249672286378, 253.6155017171629,
      600.5654746403935, 250.53119727010943, 608.7902864992028,
      241.27828392894904, 608.7902864992028, 241.27828392894904,
    ],
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
  },
  {
    stroke: "Red",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
    points: [
      407.28239595837647, 147.72104903499397, 408.3104974407276,
      147.72104903499397, 408.3104974407276, 147.72104903499397,
      411.39480188778106, 147.72104903499397, 411.39480188778106,
      147.72104903499397, 415.5072078171857, 147.72104903499397,
      415.5072078171857, 147.72104903499397, 421.6758167112926,
      147.72104903499397, 421.6758167112926, 147.72104903499397,
      427.8444256053995, 147.72104903499397, 427.8444256053995,
      147.72104903499397, 431.95683153480417, 147.72104903499397,
      431.95683153480417, 147.72104903499397, 438.1254404289111,
      146.69294755264283, 438.1254404289111, 146.69294755264283,
      442.2378463583157, 146.69294755264283, 442.2378463583157,
      146.69294755264283, 445.3221508053692, 146.69294755264283,
      445.3221508053692, 146.69294755264283, 447.3783537700715,
      146.69294755264283, 447.3783537700715, 146.69294755264283,
      448.40645525242263, 145.66484607029167, 448.40645525242263,
      145.66484607029167, 449.43455673477376, 145.66484607029167,
      449.43455673477376, 145.66484607029167, 450.46265821712495,
      145.66484607029167, 450.46265821712495, 145.66484607029167,
      451.4907596994761, 145.66484607029167, 451.4907596994761,
      145.66484607029167, 451.4907596994761, 145.66484607029167,
      451.4907596994761, 145.66484607029167, 451.4907596994761,
      145.66484607029167, 451.4907596994761, 145.66484607029167,
      451.4907596994761, 144.6367445879405, 451.4907596994761,
      144.6367445879405,
    ],
  },
  {
    stroke: "#000",
    strokeWidth: 40,
    globalCompositeOperation: "destination-out",
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
    points: [
      225.30843358222208, 199.1261231525517, 225.30843358222208,
      199.1261231525517, 225.30843358222208, 199.1261231525517,
      229.4208395116267, 199.1261231525517, 229.4208395116267,
      199.1261231525517, 231.47704247632902, 199.1261231525517,
      231.47704247632902, 199.1261231525517, 237.64565137043593,
      199.1261231525517, 237.64565137043593, 199.1261231525517,
      243.81426026454287, 198.09802167020055, 243.81426026454287,
      198.09802167020055, 252.0390721233521, 198.09802167020055,
      252.0390721233521, 198.09802167020055, 259.23578249981017,
      197.0699201878494, 259.23578249981017, 197.0699201878494,
      270.54489880567286, 196.04181870549826, 270.54489880567286,
      196.04181870549826, 277.74160918213096, 196.04181870549826,
      277.74160918213096, 196.04181870549826, 284.93831955858906,
      195.0137172231471, 284.93831955858906, 195.0137172231471,
      291.10692845269597, 195.0137172231471, 291.10692845269597,
      195.0137172231471, 299.3317403115052, 195.0137172231471,
      299.3317403115052, 195.0137172231471, 305.5003492056121,
      193.98561574079594, 305.5003492056121, 193.98561574079594,
      311.6689580997191, 193.98561574079594, 311.6689580997191,
      193.98561574079594, 316.80946551147485, 192.95751425844477,
      316.80946551147485, 192.95751425844477, 320.92187144087944,
      191.9294127760936, 320.92187144087944, 191.9294127760936,
      325.0342773702841, 191.9294127760936, 325.0342773702841,
      191.9294127760936, 327.0904803349864, 191.9294127760936,
      327.0904803349864, 191.9294127760936, 329.1466832996887,
      190.90131129374248, 329.1466832996887, 190.90131129374248,
      330.17478478203986, 190.90131129374248, 330.17478478203986,
      190.90131129374248, 331.202886264391, 190.90131129374248,
      331.202886264391, 190.90131129374248, 333.2590892290933,
      189.87320981139132, 333.2590892290933, 189.87320981139132,
      334.28719071144445, 188.84510832904016, 334.28719071144445,
      188.84510832904016, 335.31529219379564, 187.817006846689,
      335.31529219379564, 187.817006846689, 337.3714951584979, 187.817006846689,
      337.3714951584979, 187.817006846689, 338.3995966408491, 185.7608038819867,
      338.3995966408491, 185.7608038819867, 339.42769812320023,
      185.7608038819867, 339.42769812320023, 185.7608038819867,
      341.48390108790255, 183.70460091728438, 341.48390108790255,
      183.70460091728438, 344.568205534956, 181.6483979525821, 344.568205534956,
      181.6483979525821, 347.65250998200946, 179.59219498787976,
      347.65250998200946, 179.59219498787976, 350.7368144290629,
      176.5078905408263, 350.7368144290629, 176.5078905408263,
      353.82111887611643, 174.451687576124, 353.82111887611643,
      174.451687576124, 358.9616262878722, 171.36738312907053,
      358.9616262878722, 171.36738312907053, 362.04593073492566,
      170.33928164671937, 362.04593073492566, 170.33928164671937,
      365.1302351819791, 168.28307868201708, 365.1302351819791,
      168.28307868201708, 367.18643814668144, 166.22687571731475,
      367.18643814668144, 166.22687571731475, 371.298844076086,
      165.1987742349636, 371.298844076086, 165.1987742349636, 374.3831485231395,
      163.1425712702613, 374.3831485231395, 163.1425712702613,
      378.4955544525441, 161.08636830555898, 378.4955544525441,
      161.08636830555898, 383.6360618642999, 159.03016534085668,
      383.6360618642999, 159.03016534085668, 388.7765692760557,
      156.97396237615436, 388.7765692760557, 156.97396237615436,
      389.8046707584068, 156.97396237615436, 389.8046707584068,
      156.97396237615436, 389.8046707584068, 156.97396237615436,
      389.8046707584068, 156.97396237615436, 390.83277224075795,
      156.97396237615436, 390.83277224075795, 156.97396237615436,
      391.86087372310914, 156.97396237615436, 391.86087372310914,
      156.97396237615436, 391.86087372310914, 156.97396237615436,
      391.86087372310914, 156.97396237615436, 391.86087372310914,
      158.00206385850552, 391.86087372310914, 158.00206385850552,
      391.86087372310914, 158.00206385850552, 391.86087372310914,
      158.00206385850552, 391.86087372310914, 158.00206385850552,
      391.86087372310914, 158.00206385850552, 393.91707668781146,
      158.00206385850552, 393.91707668781146, 158.00206385850552,
      394.9451781701626, 158.00206385850552, 394.9451781701626,
      158.00206385850552, 407.28239595837647, 156.97396237615436,
      407.28239595837647, 156.97396237615436, 412.42290337013225,
      156.97396237615436, 412.42290337013225, 156.97396237615436,
      418.59151226423916, 156.97396237615436, 418.59151226423916,
      156.97396237615436, 422.70391819364374, 156.97396237615436,
      422.70391819364374, 156.97396237615436, 427.8444256053995,
      156.97396237615436, 427.8444256053995, 156.97396237615436,
      430.928730052453, 156.97396237615436, 430.928730052453,
      156.97396237615436, 435.0411359818576, 156.97396237615436,
      435.0411359818576, 156.97396237615436, 439.15354191126227,
      156.97396237615436, 439.15354191126227, 156.97396237615436,
      445.3221508053692, 156.97396237615436, 445.3221508053692,
      156.97396237615436, 448.40645525242263, 156.97396237615436,
      448.40645525242263, 156.97396237615436, 452.5188611818273,
      156.97396237615436, 452.5188611818273, 156.97396237615436,
      455.60316562888073, 156.97396237615436, 455.60316562888073,
      156.97396237615436, 459.7155715582853, 155.94586089380323,
      459.7155715582853, 155.94586089380323, 462.7998760053388,
      155.94586089380323, 462.7998760053388, 155.94586089380323,
      464.8560789700411, 154.91775941145207, 464.8560789700411,
      154.91775941145207, 468.96848489944574, 154.91775941145207,
      468.96848489944574, 154.91775941145207, 472.0527893464992,
      153.8896579291009, 472.0527893464992, 153.8896579291009,
      476.1651952759038, 153.8896579291009, 476.1651952759038,
      153.8896579291009, 479.2494997229573, 152.86155644674974,
      479.2494997229573, 152.86155644674974, 482.33380417001075,
      152.86155644674974, 482.33380417001075, 152.86155644674974,
      487.47431158176653, 150.80535348204745, 487.47431158176653,
      150.80535348204745, 490.55861602882, 149.7772519996963, 490.55861602882,
      149.7772519996963, 493.64292047587344, 148.74915051734513,
      493.64292047587344, 148.74915051734513, 496.7272249229269,
      147.72104903499397, 496.7272249229269, 147.72104903499397,
      499.81152936998035, 145.66484607029167, 499.81152936998035,
      145.66484607029167, 503.923935299385, 143.60864310558935,
      503.923935299385, 143.60864310558935, 508.0363412287896,
      141.55244014088706, 508.0363412287896, 141.55244014088706,
      511.12064567584304, 139.49623717618474, 511.12064567584304,
      139.49623717618474, 515.2330516052477, 137.44003421148244,
      515.2330516052477, 137.44003421148244, 518.3173560523012,
      135.38383124678012, 518.3173560523012, 135.38383124678012,
      521.4016604993546, 132.29952679972666, 521.4016604993546,
      132.29952679972666, 524.4859649464081, 130.24332383502434,
      524.4859649464081, 130.24332383502434, 528.5983708758127,
      128.18712087032205, 528.5983708758127, 128.18712087032205,
      535.7950812522707, 124.07471494091742, 535.7950812522707,
      124.07471494091742, 539.9074871816754, 122.01851197621511,
      539.9074871816754, 122.01851197621511, 545.0479945934312,
      119.9623090115128, 545.0479945934312, 119.9623090115128,
      549.1604005228357, 118.93420752916165, 549.1604005228357,
      118.93420752916165, 552.2447049698892, 117.90610604681049,
      552.2447049698892, 117.90610604681049, 557.385212381645,
      114.82180159975702, 557.385212381645, 114.82180159975702,
      566.6381257228054, 109.68129418800126, 566.6381257228054,
      109.68129418800126, 566.6381257228054, 108.6531927056501,
      566.6381257228054, 108.6531927056501, 567.6662272051566,
      108.6531927056501, 567.6662272051566, 108.6531927056501,
      568.6943286875078, 107.62509122329895, 568.6943286875078,
      107.62509122329895, 568.6943286875078, 107.62509122329895,
      568.6943286875078, 107.62509122329895, 568.6943286875078,
      107.62509122329895, 568.6943286875078, 107.62509122329895,
      569.7224301698589, 107.62509122329895, 569.7224301698589,
      107.62509122329895, 569.7224301698589, 107.62509122329895,
      569.7224301698589, 107.62509122329895, 569.7224301698589,
      107.62509122329895, 569.7224301698589, 107.62509122329895,
      569.7224301698589, 107.62509122329895, 569.7224301698589,
      107.62509122329895, 569.7224301698589, 107.62509122329895,
      569.7224301698589, 107.62509122329895, 569.7224301698589,
      108.6531927056501, 569.7224301698589, 108.6531927056501,
      568.6943286875078, 108.6531927056501, 568.6943286875078,
      108.6531927056501,
    ],
  },
];

const expected3: LineFig[] = [
  {
    stroke: "Black",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    points: [
      199.60589652344322, 118.93420752916165, 199.60589652344322,
      123.04661345856627, 199.60589652344322, 126.13091790561973,
      217.08362172341285, 154.91775941145207, 229.4208395116267,
      166.22687571731475, 256.1514780527567, 184.73270239963554,
      267.4605943586194, 187.817006846689, 277.74160918213096,
      188.84510832904016, 294.1912328997494, 188.84510832904016,
      309.61275513501676, 187.817006846689, 330.17478478203986,
      181.6483979525821, 355.8773218408187, 172.3954846114217,
      370.2707425937349, 168.28307868201708, 370.2707425937349,
      167.25497719966592, 370.2707425937349, 167.25497719966592,
    ],
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
  },
  {
    stroke: "Black",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    points: [
      325.0342773702841, 114.82180159975702, 325.0342773702841,
      114.82180159975702, 327.0904803349864, 114.82180159975702,
      341.48390108790255, 108.6531927056501, 376.4393514878418,
      94.25977195273394, 401.1137870642695, 88.091163058627, 421.6758167112926,
      82.95065564687124, 441.20974487596453, 80.89445268216893,
      443.26594784066685, 80.89445268216893, 453.5469626641784,
      80.89445268216893, 468.96848489944574, 86.0349600939247,
      483.3619056523619, 103.51268529389434, 489.5305145464688,
      114.82180159975702, 498.7834278876292, 136.41193272913128,
      501.86773233468267, 145.66484607029167, 508.0363412287896,
      182.67649943493325, 508.0363412287896, 192.95751425844477,
      509.06444271114077, 224.82866021133057, 509.06444271114077,
      230.9972691054375, 508.0363412287896, 241.27828392894904,
      504.9520367817361, 250.53119727010943, 503.923935299385,
      251.5592987524606, 500.83963085233154, 256.6998061642164,
      498.7834278876292, 259.78411061126985, 497.755326405278, 260.812212093621,
      496.7272249229269, 261.8403135759721, 496.7272249229269,
      261.8403135759721, 497.755326405278, 261.8403135759721,
      501.86773233468267, 262.8684150583233, 505.9801382640873,
      263.89651654067444, 517.28925456995, 264.92461802302563,
      534.7669797699197, 265.95271950537676, 542.9917916287288,
      265.95271950537676, 576.919140546317, 262.8684150583233, 590.284459816882,
      256.6998061642164, 595.4249672286378, 253.6155017171629,
      600.5654746403935, 250.53119727010943, 608.7902864992028,
      241.27828392894904, 608.7902864992028, 241.27828392894904,
    ],
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
  },
  {
    stroke: "#000",
    strokeWidth: 40,
    globalCompositeOperation: "destination-out",
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
    points: [
      225.30843358222208, 199.1261231525517, 225.30843358222208,
      199.1261231525517, 225.30843358222208, 199.1261231525517,
      229.4208395116267, 199.1261231525517, 229.4208395116267,
      199.1261231525517, 231.47704247632902, 199.1261231525517,
      231.47704247632902, 199.1261231525517, 237.64565137043593,
      199.1261231525517, 237.64565137043593, 199.1261231525517,
      243.81426026454287, 198.09802167020055, 243.81426026454287,
      198.09802167020055, 252.0390721233521, 198.09802167020055,
      252.0390721233521, 198.09802167020055, 259.23578249981017,
      197.0699201878494, 259.23578249981017, 197.0699201878494,
      270.54489880567286, 196.04181870549826, 270.54489880567286,
      196.04181870549826, 277.74160918213096, 196.04181870549826,
      277.74160918213096, 196.04181870549826, 284.93831955858906,
      195.0137172231471, 284.93831955858906, 195.0137172231471,
      291.10692845269597, 195.0137172231471, 291.10692845269597,
      195.0137172231471, 299.3317403115052, 195.0137172231471,
      299.3317403115052, 195.0137172231471, 305.5003492056121,
      193.98561574079594, 305.5003492056121, 193.98561574079594,
      311.6689580997191, 193.98561574079594, 311.6689580997191,
      193.98561574079594, 316.80946551147485, 192.95751425844477,
      316.80946551147485, 192.95751425844477, 320.92187144087944,
      191.9294127760936, 320.92187144087944, 191.9294127760936,
      325.0342773702841, 191.9294127760936, 325.0342773702841,
      191.9294127760936, 327.0904803349864, 191.9294127760936,
      327.0904803349864, 191.9294127760936, 329.1466832996887,
      190.90131129374248, 329.1466832996887, 190.90131129374248,
      330.17478478203986, 190.90131129374248, 330.17478478203986,
      190.90131129374248, 331.202886264391, 190.90131129374248,
      331.202886264391, 190.90131129374248, 333.2590892290933,
      189.87320981139132, 333.2590892290933, 189.87320981139132,
      334.28719071144445, 188.84510832904016, 334.28719071144445,
      188.84510832904016, 335.31529219379564, 187.817006846689,
      335.31529219379564, 187.817006846689, 337.3714951584979, 187.817006846689,
      337.3714951584979, 187.817006846689, 338.3995966408491, 185.7608038819867,
      338.3995966408491, 185.7608038819867, 339.42769812320023,
      185.7608038819867, 339.42769812320023, 185.7608038819867,
      341.48390108790255, 183.70460091728438, 341.48390108790255,
      183.70460091728438, 344.568205534956, 181.6483979525821, 344.568205534956,
      181.6483979525821, 347.65250998200946, 179.59219498787976,
      347.65250998200946, 179.59219498787976, 350.7368144290629,
      176.5078905408263, 350.7368144290629, 176.5078905408263,
      353.82111887611643, 174.451687576124, 353.82111887611643,
      174.451687576124, 358.9616262878722, 171.36738312907053,
      358.9616262878722, 171.36738312907053, 362.04593073492566,
      170.33928164671937, 362.04593073492566, 170.33928164671937,
      365.1302351819791, 168.28307868201708, 365.1302351819791,
      168.28307868201708, 367.18643814668144, 166.22687571731475,
      367.18643814668144, 166.22687571731475, 371.298844076086,
      165.1987742349636, 371.298844076086, 165.1987742349636, 374.3831485231395,
      163.1425712702613, 374.3831485231395, 163.1425712702613,
      378.4955544525441, 161.08636830555898, 378.4955544525441,
      161.08636830555898, 383.6360618642999, 159.03016534085668,
      383.6360618642999, 159.03016534085668, 388.7765692760557,
      156.97396237615436, 388.7765692760557, 156.97396237615436,
      389.8046707584068, 156.97396237615436, 389.8046707584068,
      156.97396237615436, 389.8046707584068, 156.97396237615436,
      389.8046707584068, 156.97396237615436, 390.83277224075795,
      156.97396237615436, 390.83277224075795, 156.97396237615436,
      391.86087372310914, 156.97396237615436, 391.86087372310914,
      156.97396237615436, 391.86087372310914, 156.97396237615436,
      391.86087372310914, 156.97396237615436, 391.86087372310914,
      158.00206385850552, 391.86087372310914, 158.00206385850552,
      391.86087372310914, 158.00206385850552, 391.86087372310914,
      158.00206385850552, 391.86087372310914, 158.00206385850552,
      391.86087372310914, 158.00206385850552, 393.91707668781146,
      158.00206385850552, 393.91707668781146, 158.00206385850552,
      394.9451781701626, 158.00206385850552, 394.9451781701626,
      158.00206385850552, 407.28239595837647, 156.97396237615436,
      407.28239595837647, 156.97396237615436, 412.42290337013225,
      156.97396237615436, 412.42290337013225, 156.97396237615436,
      418.59151226423916, 156.97396237615436, 418.59151226423916,
      156.97396237615436, 422.70391819364374, 156.97396237615436,
      422.70391819364374, 156.97396237615436, 427.8444256053995,
      156.97396237615436, 427.8444256053995, 156.97396237615436,
      430.928730052453, 156.97396237615436, 430.928730052453,
      156.97396237615436, 435.0411359818576, 156.97396237615436,
      435.0411359818576, 156.97396237615436, 439.15354191126227,
      156.97396237615436, 439.15354191126227, 156.97396237615436,
      445.3221508053692, 156.97396237615436, 445.3221508053692,
      156.97396237615436, 448.40645525242263, 156.97396237615436,
      448.40645525242263, 156.97396237615436, 452.5188611818273,
      156.97396237615436, 452.5188611818273, 156.97396237615436,
      455.60316562888073, 156.97396237615436, 455.60316562888073,
      156.97396237615436, 459.7155715582853, 155.94586089380323,
      459.7155715582853, 155.94586089380323, 462.7998760053388,
      155.94586089380323, 462.7998760053388, 155.94586089380323,
      464.8560789700411, 154.91775941145207, 464.8560789700411,
      154.91775941145207, 468.96848489944574, 154.91775941145207,
      468.96848489944574, 154.91775941145207, 472.0527893464992,
      153.8896579291009, 472.0527893464992, 153.8896579291009,
      476.1651952759038, 153.8896579291009, 476.1651952759038,
      153.8896579291009, 479.2494997229573, 152.86155644674974,
      479.2494997229573, 152.86155644674974, 482.33380417001075,
      152.86155644674974, 482.33380417001075, 152.86155644674974,
      487.47431158176653, 150.80535348204745, 487.47431158176653,
      150.80535348204745, 490.55861602882, 149.7772519996963, 490.55861602882,
      149.7772519996963, 493.64292047587344, 148.74915051734513,
      493.64292047587344, 148.74915051734513, 496.7272249229269,
      147.72104903499397, 496.7272249229269, 147.72104903499397,
      499.81152936998035, 145.66484607029167, 499.81152936998035,
      145.66484607029167, 503.923935299385, 143.60864310558935,
      503.923935299385, 143.60864310558935, 508.0363412287896,
      141.55244014088706, 508.0363412287896, 141.55244014088706,
      511.12064567584304, 139.49623717618474, 511.12064567584304,
      139.49623717618474, 515.2330516052477, 137.44003421148244,
      515.2330516052477, 137.44003421148244, 518.3173560523012,
      135.38383124678012, 518.3173560523012, 135.38383124678012,
      521.4016604993546, 132.29952679972666, 521.4016604993546,
      132.29952679972666, 524.4859649464081, 130.24332383502434,
      524.4859649464081, 130.24332383502434, 528.5983708758127,
      128.18712087032205, 528.5983708758127, 128.18712087032205,
      535.7950812522707, 124.07471494091742, 535.7950812522707,
      124.07471494091742, 539.9074871816754, 122.01851197621511,
      539.9074871816754, 122.01851197621511, 545.0479945934312,
      119.9623090115128, 545.0479945934312, 119.9623090115128,
      549.1604005228357, 118.93420752916165, 549.1604005228357,
      118.93420752916165, 552.2447049698892, 117.90610604681049,
      552.2447049698892, 117.90610604681049, 557.385212381645,
      114.82180159975702, 557.385212381645, 114.82180159975702,
      566.6381257228054, 109.68129418800126, 566.6381257228054,
      109.68129418800126, 566.6381257228054, 108.6531927056501,
      566.6381257228054, 108.6531927056501, 567.6662272051566,
      108.6531927056501, 567.6662272051566, 108.6531927056501,
      568.6943286875078, 107.62509122329895, 568.6943286875078,
      107.62509122329895, 568.6943286875078, 107.62509122329895,
      568.6943286875078, 107.62509122329895, 568.6943286875078,
      107.62509122329895, 568.6943286875078, 107.62509122329895,
      569.7224301698589, 107.62509122329895, 569.7224301698589,
      107.62509122329895, 569.7224301698589, 107.62509122329895,
      569.7224301698589, 107.62509122329895, 569.7224301698589,
      107.62509122329895, 569.7224301698589, 107.62509122329895,
      569.7224301698589, 107.62509122329895, 569.7224301698589,
      107.62509122329895, 569.7224301698589, 107.62509122329895,
      569.7224301698589, 107.62509122329895, 569.7224301698589,
      108.6531927056501, 569.7224301698589, 108.6531927056501,
      568.6943286875078, 108.6531927056501, 568.6943286875078,
      108.6531927056501,
    ],
  },
];

const case4: LineFig[] = [
  {
    stroke: "Black",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
    points: [
      213.99931727635936, 200.15422463490287, 212.97121579400823,
      199.1261231525517, 212.97121579400823, 199.1261231525517,
      212.97121579400823, 199.1261231525517, 212.97121579400823,
      199.1261231525517, 212.97121579400823, 198.09802167020055,
      212.97121579400823, 198.09802167020055, 212.97121579400823,
      196.04181870549826, 212.97121579400823, 196.04181870549826,
    ],
  },
  {
    stroke: "#000",
    strokeWidth: 40,
    globalCompositeOperation: "destination-out",
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
    points: [
      205.77450541755013, 199.1261231525517, 206.8026068999013,
      199.1261231525517, 206.8026068999013, 199.1261231525517,
      210.9150128293059, 200.15422463490287, 210.9150128293059,
      200.15422463490287, 212.97121579400823, 201.182326117254,
      212.97121579400823, 201.182326117254, 219.13982468811514,
      204.2666305643075, 219.13982468811514, 204.2666305643075,
      223.25223061751976, 206.32283352900978, 223.25223061751976,
      206.32283352900978, 225.30843358222208, 207.35093501136095,
      225.30843358222208, 207.35093501136095, 225.30843358222208,
      208.3790364937121, 225.30843358222208, 208.3790364937121,
      226.33653506457324, 208.3790364937121, 226.33653506457324,
      208.3790364937121, 226.33653506457324, 209.40713797606327,
      226.33653506457324, 209.40713797606327, 226.33653506457324,
      209.40713797606327, 226.33653506457324, 209.40713797606327,
      226.33653506457324, 209.40713797606327, 226.33653506457324,
      209.40713797606327,
    ],
  },
  {
    stroke: "Red",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
    points: [
      93.71144384127429, 112.76559863505472, 94.73954532362544,
      112.76559863505472, 94.73954532362544, 112.76559863505472,
      106.04866162948814, 104.54078677624548, 106.04866162948814,
      104.54078677624548, 125.58258979416007, 97.3440763997874,
      125.58258979416007, 97.3440763997874, 149.22892388823664,
      92.20356898803163, 149.22892388823664, 92.20356898803163,
      176.98766391171782, 92.20356898803163, 176.98766391171782,
      92.20356898803163, 195.4934905940386, 92.20356898803163,
      195.4934905940386, 92.20356898803163, 217.08362172341285,
      92.20356898803163, 217.08362172341285, 92.20356898803163,
      240.72995581748938, 98.37217788213856, 240.72995581748938,
      98.37217788213856, 254.0952750880544, 103.51268529389434,
      254.0952750880544, 103.51268529389434, 270.54489880567286,
      111.73749715270357, 270.54489880567286, 111.73749715270357,
      289.05072548799365, 123.04661345856627, 289.05072548799365,
      123.04661345856627, 297.2755373468029, 128.18712087032205,
      297.2755373468029, 128.18712087032205, 319.8937699585283,
      146.69294755264283, 319.8937699585283, 146.69294755264283,
      330.17478478203986, 156.97396237615436, 330.17478478203986,
      156.97396237615436, 346.62440849965833, 175.47978905847515,
      346.62440849965833, 175.47978905847515, 358.9616262878722,
      195.0137172231471, 358.9616262878722, 195.0137172231471,
      366.15833666433025, 207.35093501136095, 366.15833666433025,
      207.35093501136095, 370.2707425937349, 222.77245724662828,
      370.2707425937349, 222.77245724662828, 371.298844076086,
      244.36258837600252, 371.298844076086, 244.36258837600252,
      366.15833666433025, 264.92461802302563, 366.15833666433025,
      264.92461802302563, 353.82111887611643, 287.542850634751,
      353.82111887611643, 287.542850634751, 337.3714951584979,
      313.2453876935299, 337.3714951584979, 313.2453876935299,
      318.8656684761771, 335.86362030525527, 318.8656684761771,
      335.86362030525527, 299.3317403115052, 355.3975484699272,
      299.3317403115052, 355.3975484699272, 278.7697106644821,
      371.8471721875457, 278.7697106644821, 371.8471721875457,
      254.0952750880544, 386.24059294046185, 254.0952750880544,
      386.24059294046185, 227.36463654692437, 398.57781072867573,
      227.36463654692437, 398.57781072867573, 212.97121579400823,
      403.7183181404315, 212.97121579400823, 403.7183181404315,
      192.40918614698512, 410.91502851688955, 192.40918614698512,
      410.91502851688955, 182.1281713234736, 413.999332963943,
      182.1281713234736, 413.999332963943, 170.81905501761088,
      416.0555359286453, 170.81905501761088, 416.0555359286453,
      163.6223446411528, 417.0836374109965, 163.6223446411528,
      417.0836374109965, 154.3694312999924, 417.0836374109965,
      154.3694312999924, 417.0836374109965, 147.1727209235343,
      416.0555359286453, 147.1727209235343, 416.0555359286453,
      142.03221351177856, 412.9712314815919, 142.03221351177856,
      412.9712314815919, 134.83550313532047, 407.8307240698361,
      134.83550313532047, 407.8307240698361, 122.49828534710662,
      399.60591221102686, 122.49828534710662, 399.60591221102686,
      111.18916904124391, 387.268694422813, 111.18916904124391,
      387.268694422813, 98.85195125303005, 371.8471721875457, 98.85195125303005,
      371.8471721875457, 92.68334235892313, 358.4818529169807,
      92.68334235892313, 358.4818529169807, 88.57093642951851,
      343.06033068171337, 88.57093642951851, 343.06033068171337,
      86.5147334648162, 322.49830103469026, 86.5147334648162,
      322.49830103469026, 85.48663198246504, 301.93627138766715,
      85.48663198246504, 301.93627138766715, 85.48663198246504,
      286.5147491523999, 85.48663198246504, 286.5147491523999,
      85.48663198246504, 269.0370239524302, 85.48663198246504,
      269.0370239524302, 86.5147334648162, 254.64360319951405, 86.5147334648162,
      254.64360319951405, 88.57093642951851, 243.33448689365136,
      88.57093642951851, 243.33448689365136, 88.57093642951851,
      236.1377765171933, 88.57093642951851, 236.1377765171933,
      90.62713939422082, 229.96916762308635, 90.62713939422082,
      229.96916762308635, 93.71144384127429, 224.82866021133057,
      93.71144384127429, 224.82866021133057, 97.8238497706789,
      220.71625428192596, 97.8238497706789, 220.71625428192596,
      103.99245866478583, 216.60384835252134, 103.99245866478583,
      216.60384835252134, 117.35777793535084, 208.3790364937121,
      117.35777793535084, 208.3790364937121, 124.55448831180892,
      202.21042759960517, 124.55448831180892, 202.21042759960517,
      123.52638682945776, 202.21042759960517, 123.52638682945776,
      202.21042759960517,
    ],
  },
];

const expected4: LineFig[] = [
  {
    stroke: "Red",
    strokeWidth: 8,
    globalCompositeOperation: "source-over",
    bezier: true,
    lineCap: "round",
    lineJoin: "round",
    points: [
      93.71144384127429, 112.76559863505472, 94.73954532362544,
      112.76559863505472, 94.73954532362544, 112.76559863505472,
      106.04866162948814, 104.54078677624548, 106.04866162948814,
      104.54078677624548, 125.58258979416007, 97.3440763997874,
      125.58258979416007, 97.3440763997874, 149.22892388823664,
      92.20356898803163, 149.22892388823664, 92.20356898803163,
      176.98766391171782, 92.20356898803163, 176.98766391171782,
      92.20356898803163, 195.4934905940386, 92.20356898803163,
      195.4934905940386, 92.20356898803163, 217.08362172341285,
      92.20356898803163, 217.08362172341285, 92.20356898803163,
      240.72995581748938, 98.37217788213856, 240.72995581748938,
      98.37217788213856, 254.0952750880544, 103.51268529389434,
      254.0952750880544, 103.51268529389434, 270.54489880567286,
      111.73749715270357, 270.54489880567286, 111.73749715270357,
      289.05072548799365, 123.04661345856627, 289.05072548799365,
      123.04661345856627, 297.2755373468029, 128.18712087032205,
      297.2755373468029, 128.18712087032205, 319.8937699585283,
      146.69294755264283, 319.8937699585283, 146.69294755264283,
      330.17478478203986, 156.97396237615436, 330.17478478203986,
      156.97396237615436, 346.62440849965833, 175.47978905847515,
      346.62440849965833, 175.47978905847515, 358.9616262878722,
      195.0137172231471, 358.9616262878722, 195.0137172231471,
      366.15833666433025, 207.35093501136095, 366.15833666433025,
      207.35093501136095, 370.2707425937349, 222.77245724662828,
      370.2707425937349, 222.77245724662828, 371.298844076086,
      244.36258837600252, 371.298844076086, 244.36258837600252,
      366.15833666433025, 264.92461802302563, 366.15833666433025,
      264.92461802302563, 353.82111887611643, 287.542850634751,
      353.82111887611643, 287.542850634751, 337.3714951584979,
      313.2453876935299, 337.3714951584979, 313.2453876935299,
      318.8656684761771, 335.86362030525527, 318.8656684761771,
      335.86362030525527, 299.3317403115052, 355.3975484699272,
      299.3317403115052, 355.3975484699272, 278.7697106644821,
      371.8471721875457, 278.7697106644821, 371.8471721875457,
      254.0952750880544, 386.24059294046185, 254.0952750880544,
      386.24059294046185, 227.36463654692437, 398.57781072867573,
      227.36463654692437, 398.57781072867573, 212.97121579400823,
      403.7183181404315, 212.97121579400823, 403.7183181404315,
      192.40918614698512, 410.91502851688955, 192.40918614698512,
      410.91502851688955, 182.1281713234736, 413.999332963943,
      182.1281713234736, 413.999332963943, 170.81905501761088,
      416.0555359286453, 170.81905501761088, 416.0555359286453,
      163.6223446411528, 417.0836374109965, 163.6223446411528,
      417.0836374109965, 154.3694312999924, 417.0836374109965,
      154.3694312999924, 417.0836374109965, 147.1727209235343,
      416.0555359286453, 147.1727209235343, 416.0555359286453,
      142.03221351177856, 412.9712314815919, 142.03221351177856,
      412.9712314815919, 134.83550313532047, 407.8307240698361,
      134.83550313532047, 407.8307240698361, 122.49828534710662,
      399.60591221102686, 122.49828534710662, 399.60591221102686,
      111.18916904124391, 387.268694422813, 111.18916904124391,
      387.268694422813, 98.85195125303005, 371.8471721875457, 98.85195125303005,
      371.8471721875457, 92.68334235892313, 358.4818529169807,
      92.68334235892313, 358.4818529169807, 88.57093642951851,
      343.06033068171337, 88.57093642951851, 343.06033068171337,
      86.5147334648162, 322.49830103469026, 86.5147334648162,
      322.49830103469026, 85.48663198246504, 301.93627138766715,
      85.48663198246504, 301.93627138766715, 85.48663198246504,
      286.5147491523999, 85.48663198246504, 286.5147491523999,
      85.48663198246504, 269.0370239524302, 85.48663198246504,
      269.0370239524302, 86.5147334648162, 254.64360319951405, 86.5147334648162,
      254.64360319951405, 88.57093642951851, 243.33448689365136,
      88.57093642951851, 243.33448689365136, 88.57093642951851,
      236.1377765171933, 88.57093642951851, 236.1377765171933,
      90.62713939422082, 229.96916762308635, 90.62713939422082,
      229.96916762308635, 93.71144384127429, 224.82866021133057,
      93.71144384127429, 224.82866021133057, 97.8238497706789,
      220.71625428192596, 97.8238497706789, 220.71625428192596,
      103.99245866478583, 216.60384835252134, 103.99245866478583,
      216.60384835252134, 117.35777793535084, 208.3790364937121,
      117.35777793535084, 208.3790364937121, 124.55448831180892,
      202.21042759960517, 124.55448831180892, 202.21042759960517,
      123.52638682945776, 202.21042759960517, 123.52638682945776,
      202.21042759960517,
    ],
  },
];
