import React from "react";
import styles from "./PaisleySwirl.module.css";

interface Props {
  speedIndex?: number;
  globalDelay?: number;
}

export default function PaisleySwirl({
  speedIndex = 0.5,
  globalDelay = 0,
}: Props) {
  // I'm using speed index in both the css animations and the smil (inline) and both of those should
  // be indexed to the same speed variable. Hence it's declared here. I know this removes a small amount of
  // file-size optimization... but w/e

  const branchMainLeafDelay = 10;

  const branch2delay = 3.2;
  const branch2LeafDelay = 1;

  const branch4delay = 3.8;
  const branch4LeafDelay = 1;

  const branch5delay = 4.5;
  const branch5LeafDelay = 4;

  const branch51delay = 5.8;
  const branch51LeafDelay = 1;

  const branch6delay = 5;
  const branch6LeafDelay = 2;

  const branch7delay = 6.7;
  const branch7LeafDelay = 1;

  // This doesn't need to go into the css
  const leafSpeed = 0.8;

  const customStyles = {
    "--speed-index": speedIndex,
    // these are abstracted out here because they will be used in both the css and smil animations
    "--global-delay": globalDelay + "s",
    "--branch-2-delay": branch2delay + "s",
    "--branch-4-delay": branch4delay + "s",
    "--branch-5-delay": branch5delay + "s",
    "--branch-5-1-delay": branch51delay + "s",
    "--branch-6-delay": branch6delay + "s",
    "--branch-7-delay": branch7delay + "s",
  } as any;

  // ================= ANIMATION REFERENCE =================
  //
  // <animate
  //   id="leaf-animate"
  //   begin={speedIndex * (branch2delay + branch2LeafDelay) + globalDelay}
  //   dur={speedIndex * leafSpeed}
  //   attributeName="d"
  //   fill="freeze"
  //   from="M305.835 287.341C298.533 287.655 292.594 287.189 290.96 284.882C289.705 283.111 291.425 279.706 297.602 279.114C305.235 278.381 310.497 279.878 315.883 280.691C323.497 281.841 326.223 283.677 336.908 282.223C327.841 285.416 315.877 286.908 305.835 287.341Z"
  //   to="M358.988 332.464C321.489 348.285 285.67 351.23 259.758 322.136C239.872 299.808 224.162 250.365 253.473 232.498C289.692 210.421 329.418 222.688 364.773 225.365C414.757 229.15 443.152 250.062 490.702 213.283C464.787 271.38 410.55 310.711 358.988 332.464Z"
  // />

  return (
    // I'm adding the "PaisleySwirl" className because I want parent elements to be able to style this as a child (e.g. transforming)
    <div className={styles["base-el"]} style={customStyles}>
      <svg
        // Reference for this svg attribute. Slice is basically object-fit: cover
        // the xMidYMid stuff is more complicated...
        // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/preserveAspectRatio
        preserveAspectRatio="xMaxYMid slice"
        viewBox="0 0 1113 949"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g id="Paisley Swirl">
          <g id="branch-7">
            <path
              id="leaf"
              d="M993.619 196.753C996.784 199.272 1002.86 203.6 1013.86 206.339C1018.44 207.478 1030.76 208.767 1026.2 205.773C1020.83 202.251 1014.47 199.882 1008.82 197.654C1002.4 195.12 991.435 191.194 988.98 188C987.991 191.451 990.812 194.519 993.619 196.753Z"
              fill="#57613B"
            >
              <animate
                id="leaf-animate"
                begin={
                  speedIndex * (branch7delay + branch7LeafDelay) + globalDelay
                }
                dur={speedIndex * leafSpeed}
                attributeName="d"
                fill="freeze"
                to="M923.81 151.767C929.924 176.414 943.131 216.943 981.631 222.084C997.636 224.222 1045.88 206.148 1035.23 179.13C1022.72 147.362 1002.69 133.883 985.276 120.243C965.476 104.735 930.547 83.5788 929.361 47.8507C915.296 96.8995 918.385 129.897 923.81 151.767Z"
              />
            </path>
            <path
              id="swish"
              d="M997.393 204.249C1010.03 211.887 1016.02 215.507 1042.5 222.27C1044.78 214.455 1045.48 211.788 1045.62 204.011C1031.12 204.112 1018.5 199.52 1002 191.27C993 186.77 987.5 178.27 974 160.77C981.5 182.77 987.5 198.27 997 204.011L997.393 204.249Z"
              fill="#3C4329"
            />
            <path
              id="cover"
              d="M1055 216.5C1000.17 207.308 986.35 192.401 973.5 159"
              stroke="white"
              strokeWidth="25"
            />
          </g>
          <g id="branch-6">
            <path
              id="leaf_2"
              d="M794.042 585.902C786.85 580.366 784.079 578.265 774.7 573.728C767.984 570.481 757.831 571.457 764.402 577.032C770.695 582.371 773.147 583.339 781.102 587.552C787.17 590.766 810.101 601.34 813.766 606.411C808.916 598.894 798.598 589.41 794.042 585.902Z"
              fill="#57613B"
            >
              <animate
                id="leaf-animate"
                begin={
                  speedIndex * (branch6delay + branch6LeafDelay) + globalDelay
                }
                dur={speedIndex * leafSpeed}
                attributeName="d"
                fill="freeze"
                to="M952.96 600.948C911.222 562.119 895.053 547.674 833.25 540.186C789.001 534.825 705.929 621.368 742.641 665.149C777.804 707.082 794.557 705.534 845.977 717.764C885.191 727.092 1037.71 737.09 1052.8 793.043C1035.05 706.036 979.403 625.548 952.96 600.948Z"
              />
            </path>
            <path
              id="swish_2"
              d="M809 594.269C785 579.769 778 563.269 756 545.269C750 545.269 728 550.269 718.5 555.269C752.5 565.769 776 594.269 801 609.269C849.205 638.192 876 637.769 908 656.269C880.5 625.769 855.38 622.29 809 594.269Z"
              fill="#3C4329"
            />
            <path
              id="cover_2"
              d="M728 541.5C781.37 585.875 821.669 610.769 914.5 657.5"
              stroke="white"
              strokeWidth="35"
            />
          </g>
          <g id="branch-5">
            <g id="branch-5-1">
              <path
                id="leaf_3"
                d="M610.326 734.421C605.736 731.1 603.998 729.808 600.591 724.382C598.151 720.498 600.121 712.224 604.811 715.048C609.304 717.752 609.985 719.259 613.226 723.712C615.698 727.108 623.532 740.583 628.033 741.358C621.302 740.661 613.235 736.525 610.326 734.421Z"
                fill="#57613B"
              >
                <animate
                  id="leaf-animate"
                  begin={
                    speedIndex * (branch51delay + branch51LeafDelay) +
                    globalDelay
                  }
                  dur={speedIndex * leafSpeed}
                  attributeName="d"
                  fill="freeze"
                  to="M633.989 791.314C612.109 780.972 603.883 776.867 592.479 753.287C584.313 736.404 609.541 688.741 632.829 696.247C655.133 703.436 656.722 710.419 668.73 729.045C677.888 743.251 702.472 802.845 727.979 799.656C689.079 806.907 647.851 797.866 633.989 791.314Z"
                />
              </path>
              <path
                id="swish_3"
                d="M620.5 726.269C609.371 715.809 596.318 706.911 590.113 704.487C588.5 712.269 588.5 715.269 587.5 724.269C600.5 726.269 605 730.769 609.5 735.269C622.306 748.076 628.436 756.938 646 765.769C634.432 750.73 631.794 736.885 620.5 726.269Z"
                fill="#3C4329"
              />
              <path
                id="cover_3"
                d="M582 709.5C607.975 725.529 623.337 737.52 648.5 767.5"
                stroke="white"
                strokeWidth="20"
              />
            </g>
            <g id="three-dots">
              <circle
                id="Ellipse 29"
                cx="391.5"
                cy="937.5"
                r="11.5"
                fill="#90A064"
              />
              <circle
                id="Ellipse 30"
                cx="346.5"
                cy="932.5"
                r="11.5"
                fill="#90A064"
              />
              <circle
                id="Ellipse 31"
                cx="304.5"
                cy="915.5"
                r="11.5"
                fill="#90A064"
              />
            </g>
            <path
              id="leaf_4"
              d="M410.677 731.735C411.945 725.395 412.404 722.963 411.599 715.641C411.023 710.398 404.759 704.545 403.127 710.52C401.564 716.242 401.974 718.079 402.322 724.419C402.587 729.255 405.029 746.976 402.322 751C406.643 745.391 409.874 735.752 410.677 731.735Z"
              fill="#57613B"
            >
              <animate
                id="leaf-animate"
                begin={
                  speedIndex * (branch5delay + branch5LeafDelay) + globalDelay
                }
                dur={speedIndex * leafSpeed}
                attributeName="d"
                fill="freeze"
                to="M431.111 772.896C442.75 754.128 446.965 746.93 439.576 725.254C434.285 709.735 376.787 692.411 361.809 710.096C347.464 727.034 351.229 732.473 354.422 751.241C356.856 765.554 379.267 818.011 354.422 829.921C394.08 813.319 423.738 784.786 431.111 772.896Z"
              />
            </path>
            <path
              id="swish_4"
              d="M551.302 556.134L512.936 546.038C572.505 594.573 614.91 779.265 471.541 870.132C405.159 912.205 321.466 905.35 284 826.295C255.801 766.795 273.651 648.799 385.5 701.299C413.023 714.218 396.5 735.262 391 771.779C418 739.762 426 711.835 391 686.317C331.998 643.3 209.5 691.291 264.5 830.293C305.254 933.289 420.507 932.73 489.714 880.229C636.112 769.168 590.678 606.616 551.302 556.134Z"
              fill="#3C4329"
            />
            <path
              id="cover_4"
              d="M525 537C564.5 588 580.582 636.5 580.582 694.455C580.582 795 489 913.5 382.692 903.431C269.874 892.746 247.4 784.313 269.613 724.744C285.405 682.389 338.584 665.294 373.5 683.5C396.938 695.721 422.5 704 393 774"
              stroke="white"
              strokeWidth="30"
            />
          </g>
          <g id="branch-4">
            <path
              id="leaf_5"
              d="M370.98 499.719C370.662 493.54 370.524 491.174 368.817 484.273C367.596 479.333 362.916 474.403 362.958 480.271C362.998 485.891 363.549 487.6 364.821 493.611C365.79 498.195 370.211 514.843 369.291 518.962C370.896 513.163 371.181 503.634 370.98 499.719Z"
              fill="#57613B"
            >
              <animate
                id="leaf-animate"
                begin={
                  speedIndex * (branch4delay + branch4LeafDelay) + globalDelay
                }
                dur={speedIndex * leafSpeed}
                attributeName="d"
                fill="freeze"
                to="M400.145 558.773C406.837 532.547 409.17 522.531 397.255 495.705C388.724 476.499 330.545 463.638 320.456 489.018C310.794 513.326 315.585 519.739 322.879 543.498C328.442 561.618 361.548 625.784 340.835 645.33C374.446 617.248 395.904 575.388 400.145 558.773Z"
              />
            </path>
            <path
              id="swish_5"
              d="M372.5 492.269C372.5 477.187 370.461 465.269 369 458.769C363.5 454.769 356 449.269 348.5 443.769C355 457.269 359.678 469.87 361.5 486.269C363.5 504.269 364 515.269 366.5 534.769C372.5 516.769 372.5 507.769 372.5 492.269Z"
              fill="#3C4329"
            />
            <path
              id="cover_5"
              d="M358 437L373 537.5"
              stroke="white"
              strokeWidth="20"
            />
          </g>
          <g id="branch-3">
            <g id="three-dots_2">
              <circle
                id="Ellipse 26"
                cx="66.5"
                cy="503.5"
                r="11.5"
                fill="#90A064"
              />
              <circle
                id="Ellipse 27"
                cx="33.5"
                cy="479.5"
                r="11.5"
                fill="#90A064"
              />
              <circle
                id="Ellipse 28"
                cx="12.5"
                cy="446.5"
                r="11.5"
                fill="#90A064"
              />
            </g>
            <path
              id="swish_6"
              d="M72.7327 462.237C43.3366 435.29 24.9966 393.529 47.4917 363.293C89 307.5 168 377.311 125 403C82 428.689 68.8611 371.62 107.5 368.5C55.3611 355.375 72.7327 456.045 136 407.717C187.34 368.5 82.4767 292 36.3856 359.254C16 389 29.5685 443.626 64.6556 472.334C109.08 508.681 157.543 515.748 207.015 504.642C268.603 490.816 301.921 436.996 306.969 407.717C300.911 401.659 298.892 399.64 292.834 394.592C287.786 442.045 245.381 477.382 207.015 488.488C163.6 501.056 109.08 495.556 72.7327 462.237Z"
              fill="#3C4329"
            />
            <path
              id="cover_6"
              d="M301.5 394C303 404.5 286.777 448.102 254.468 474.353C218.121 502.623 152.629 524.755 72 469.5C16.9494 431.774 8.00002 333.078 103.5 339.5C142.449 342.119 157.754 397.756 125 409C63.5 430.112 77 370 108 365.5"
              stroke="white"
              strokeWidth="20"
            />
          </g>
          <g id="branch-2">
            <path
              id="leaf_6"
              d="M274.689 289.738C267.552 291.316 261.623 291.888 259.612 289.9C258.069 288.374 259.172 284.722 265.152 283.066C272.541 281.019 277.984 281.58 283.429 281.445C291.127 281.255 294.13 282.59 304.4 279.303C296.026 284.021 284.502 287.568 274.689 289.738Z"
              fill="#57613B"
            >
              <animate
                id="leaf-animate"
                begin={
                  speedIndex * (branch2delay + branch2LeafDelay) + globalDelay
                }
                dur={speedIndex * leafSpeed}
                attributeName="d"
                fill="freeze"
                to="M374.988 334.514C337.489 350.335 301.67 353.28 275.758 324.186C255.872 301.858 240.162 252.415 269.473 234.548C305.692 212.471 345.418 224.739 380.773 227.415C430.757 231.2 459.152 252.112 506.702 215.333C480.787 273.431 426.55 312.761 374.988 334.514Z"
              />
            </path>
            <path
              id="swish_7"
              d="M287.5 277.269C272.5 278.848 257.5 281.769 234 296.269C238.039 303.337 242.5 305.269 248 310.769C258 300.269 262.5 291.769 289.5 289.269C310.874 287.29 339.5 291.269 366.5 279.769C325 283.269 306.5 275.269 287.5 277.269Z"
              fill="#3C4329"
            />
            <path
              id="cover_7"
              d="M237.5 306.5C253.5 294 256 289 287.5 284C319 279 369.5 280 369.5 280"
              stroke="white"
              strokeWidth="22"
            />
          </g>
          <g id="branch-1">
            <g id="three-dots_3">
              <circle
                id="Ellipse 20"
                cx="164.5"
                cy="51.5"
                r="11.5"
                fill="#90A064"
              />
              <circle
                id="Ellipse 21"
                cx="199.5"
                cy="29.5"
                r="11.5"
                fill="#90A064"
              />
              <circle
                id="Ellipse 22"
                cx="238.5"
                cy="29.5"
                r="11.5"
                fill="#90A064"
              />
            </g>
            <path
              id="swish 1"
              d="M166.629 78.5738C136.601 102.034 127.253 140.162 127.253 159.345C131.292 166.413 133.311 169.441 137.35 175.499C137.35 140.162 144.033 109.705 172.687 84.6316C188.841 70.4967 235.285 54.3424 264.564 71.5063C290.223 86.5479 299.902 121.901 284.757 144.2C269.613 166.5 224 159.345 218.5 123.5C215.222 102.134 250.5 101.5 250.5 134C257 95.9997 215.5 92.4997 212.5 120.5C210.387 140.217 250.5 189 290.815 148.239C311.917 126.904 302 87.7577 269.613 64.4388C244.372 46.2653 198.938 53.3328 166.629 78.5738Z"
              fill="#3C4329"
            />
            <path
              id="cover 1"
              d="M132 176.509C132 151.587 138.35 113.911 151.475 100.786C182.078 70.1838 213.063 54.3425 248.401 60.4004C293.091 68.0615 312.5 113 283 151.5C270.889 167.306 216.5 164.71 216.5 125.5C216.5 99.55 252.812 106.674 251 135"
              stroke="white"
              strokeWidth="20"
            />
          </g>
          <g id="branch-main">
            <g id="three-dots-2">
              <circle
                id="Ellipse 23"
                cx="1078.5"
                cy="304.5"
                r="11.5"
                fill="#90A064"
              />
              <circle
                id="Ellipse 24"
                cx="1092.5"
                cy="266.5"
                r="11.5"
                fill="#90A064"
              />
              <circle
                id="Ellipse 23_2"
                cx="1101.5"
                cy="228.5"
                r="11.5"
                fill="#90A064"
              />
            </g>
            <g id="three-dots-1">
              <circle
                id="Ellipse 23_3"
                cx="551.5"
                cy="489.5"
                r="11.5"
                fill="#90A064"
              />
              <circle
                id="Ellipse 24_2"
                cx="588.5"
                cy="494.5"
                r="11.5"
                fill="#90A064"
              />
              <circle
                id="Ellipse 25"
                cx="625.5"
                cy="497.5"
                r="11.5"
                fill="#90A064"
              />
            </g>

            <path
              id="leaf_7"
              d="M680.971 79.0813C687.131 71.2184 689.801 66.0787 687.907 65.468C687.469 65.327 688.115 64.8566 683.225 67.4466C681.192 68.5231 675.361 71.6326 671.051 79.6574C667.22 86.7904 671.113 90.279 663.641 98.9065C668.563 93.9094 675.041 86.6501 680.971 79.0813Z"
              fill="#57613B"
            >
              <animate
                id="leaf-animate"
                begin={speedIndex * branchMainLeafDelay + globalDelay}
                dur={speedIndex * leafSpeed}
                attributeName="d"
                fill="freeze"
                to="M664.867 170.441C699.195 155.297 718.378 131.065 715.349 104.815C714.651 98.7567 717.369 100.776 699.195 75.535C691.641 65.0428 669.916 35.1494 639.626 71.4964C612.703 103.805 613.376 180.538 574 189.624C598.231 190.634 631.824 185.018 664.867 170.441Z"
              />
            </path>
            <path
              id="swish_8"
              d="M193.89 296.656C76.7713 153.907 15.5881 38.1884 29.3182 -191C16.1928 28.092 147.296 198.721 208.025 267.767C323.124 398.63 450.637 482.154 540.196 510.7C597.211 528.874 722.941 534.889 856.214 460.218C921.84 423.449 1059.61 306.753 1048.05 130.066C1046.13 100.786 1011.7 -101.142 766.356 -83.9781C619.958 -59.7467 531.11 60.4005 538.177 164.393C544.009 250.213 622.987 303.724 681.546 307.762C730.009 311.104 855.204 284.541 876.407 159.345C884.102 113.911 845.108 50.3041 781.5 44.2462C749.192 41.1689 701.5 50.3041 671 92.7693C662.022 105.269 656 119.769 637 134.269C658 104.269 661.539 87.862 673.5 74.2693C706.5 36.7693 759.557 30.1501 787.558 34.1499C912.447 51.9902 894.822 171.849 887.513 191.654C856.214 276.464 798.664 296.039 776.452 307.762C703.758 346.129 613.9 312.003 593.707 296.656C492.743 219.924 512.936 117.455 544.235 50.3041C599.765 -68.8335 744.144 -107.2 795.635 -107.2C1033.91 -107.2 1073.63 77.5644 1078.33 110.883C1114.68 368.341 861.833 501.048 848.137 507.671C664.382 596.52 554.331 570.049 499.811 540.989C365.528 469.418 261.402 378.944 193.89 296.656Z"
              fill="#3C4329"
            />
            <path
              id="cover_8"
              d="M27.2989 -179.894C11.1104 4.11893 85.6558 143.052 121.5 193.5C180 296 437.632 497.461 528.5 529.769C772.5 609 1124 368.5 1053.09 87.6609C1011.75 -79.8163 890.5 -109.5 740.105 -94.0747C668.522 -76.1778 505.869 41.2174 528.081 154.297C546 323.5 758.212 367.677 846.117 237.088C898.079 159.895 919.209 123.037 846.117 65.4488C746.163 -13.3032 633.083 142.182 633.083 142.182"
              stroke="white"
              strokeWidth="50"
            />
          </g>
        </g>
      </svg>
    </div>
  );
}
